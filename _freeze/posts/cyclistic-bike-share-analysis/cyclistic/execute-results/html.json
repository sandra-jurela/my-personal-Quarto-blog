{
  "hash": "aa72ca68eee0425756aec187cb45a196",
  "result": {
    "markdown": "---\ntitle: \"Cyclistic Bike-Share Analysis\"\ndescription: |\n  My Capstone Project for the Google Data Analytics Professional Certificate.\ndate: 2022-04-12\ncategories:\n  - EDA\n  - data cleaning\n  - data manipulation\n  - data visualization\n  - R\nimage: images/cyclistic.png\n---\n\n\n![](images/cyclistic_2.jpg)\n\n## Foreword\n\nIn September 2021 I have completed the Google Data Analytics Professional Certificate Program hosted on Coursera. The program is very extensive and covers all the steps of the data analysis process as taught by Google (**ask**, **prepare** **process**, **analyze**, **share**, and **act**). It consists of 8 courses, the last of which is dedicated to a capstone project. As a passionate cyclist I have chosen the Cyclistic bike-share analysis case study to showcase what I have learned. I hope you'll like it!\n\n## Introduction\n\nIn this case study I am a junior data analyst working in the marketing analyst team at Cyclistic, a fictional bike-share company in Chicago. The director of marketing believes the company's future success depends on maximizing the number of annual memberships. Therefore, my team wants to understand how casual riders and annual members use Cyclistic bikes differently. From these insights, my team will design a new marketing strategy to convert casual riders into annual members. But first, Cyclistic executives must approve our recommendations, so they must be backed up with compelling data insights and professional data visualizations.\n\nThree questions will guide the future marketing program:\n\n1.  How do annual members and casual riders use Cyclistic bikes differently?\n2.  Why would casual riders buy Cyclistic annual memberships?\n3.  How can Cyclistic use digital media to influence casual riders to become members?\n\nLily Moreno, the director of marketing and my manager has assigned me the first question to answer.\n\n## PART I: Ask\n\nIn the first step of the data analysis process we identify the business task and consider key stakeholders.\n\n<p style=\"border:3px; border-style:solid; border-color:#4779b9; padding: 1em;\">\n\n**Business task**<br>How do annual members and casual riders use Cyclistic bikes differently?\n\n</p>\n\n**Primary Stakeholders**\n\n1.  Lily Moreno: the Director of Marketing and my manager\n2.  Cyclistic Executive Team: the notoriously detail-oriented executive team who will decide whether to approve the recommended marketing program.\n\n**Secondary Stakeholders**\n\n1.  Cyclistic Marketing Analytics Team: a team of data analysts who are responsible for collecting, analyzing, and reporting data that helps guide Cyclistic marketing strategy (my team)\n\n## PART II: Prepare\n\nThe objective of this step is to prepare data for the analysis. I will use the past **12 months** of Cyclitis's historical trip data (from **September 2020 to August 2021**) to analyze and identify trends. Because Cyclistic is a fictional company, for the purposes of this case study I will use data from a real bike-share company in Chicago, **Divvy**. The data has been made available for public use by Motivate International Inc. under this [license](https://ride.divvybikes.com/data-license-agreement) and can be downloaded [here](http://divvy-tripdata.s3.amazonaws.com/index.html).\n\nThe data is released on a monthly schedule and anonymized. It is reliable, original, comprehensive, current, and cited.\n\nI have downloaded **12 csv files** (datasets). Each dataset contains historical trip data for an individual month. In all 12 datasets each variable has its own column, each observation has its own row, and each value has its own cell. Therefore, I can conclude that the datasets are tidy.\n\nThere are **13 columns** (variables) in each csv file. Metadata isn't provided but most of the variables are self-explanatory.\n\n<br/ >\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper lightable-hover\" style=\"font-family: Arial; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;color: white !important;background-color: #4779b9 !important;\"> No </th>\n   <th style=\"text-align:left;color: white !important;background-color: #4779b9 !important;\"> Column Name </th>\n   <th style=\"text-align:left;color: white !important;background-color: #4779b9 !important;\"> Data Type </th>\n   <th style=\"text-align:left;color: white !important;background-color: #4779b9 !important;\"> Definition </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> ride_id </td>\n   <td style=\"text-align:left;\"> Text </td>\n   <td style=\"text-align:left;\"> Unique ride ID </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> rideable_type </td>\n   <td style=\"text-align:left;\"> Text </td>\n   <td style=\"text-align:left;\"> Classic, docked, or electric bike </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> started_at </td>\n   <td style=\"text-align:left;\"> Date &amp; Time </td>\n   <td style=\"text-align:left;\"> Trip start day and time </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:left;\"> ended_at </td>\n   <td style=\"text-align:left;\"> Date &amp; Time </td>\n   <td style=\"text-align:left;\"> Trip end day and time </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> start_station_name </td>\n   <td style=\"text-align:left;\"> Text </td>\n   <td style=\"text-align:left;\"> Trip start station name </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:left;\"> start_station_id </td>\n   <td style=\"text-align:left;\"> Text </td>\n   <td style=\"text-align:left;\"> Trip start station ID </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:left;\"> end_station_name </td>\n   <td style=\"text-align:left;\"> Text </td>\n   <td style=\"text-align:left;\"> Trip end station name </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:left;\"> end_station_id </td>\n   <td style=\"text-align:left;\"> Text </td>\n   <td style=\"text-align:left;\"> Trip end station ID </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:left;\"> start_lat </td>\n   <td style=\"text-align:left;\"> Numeric </td>\n   <td style=\"text-align:left;\"> Trip start station latitude </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:left;\"> start_lng </td>\n   <td style=\"text-align:left;\"> Numeric </td>\n   <td style=\"text-align:left;\"> Trip start station longitude </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:left;\"> end_lat </td>\n   <td style=\"text-align:left;\"> Numeric </td>\n   <td style=\"text-align:left;\"> Trip end station latitude </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:left;\"> end_lng </td>\n   <td style=\"text-align:left;\"> Numeric </td>\n   <td style=\"text-align:left;\"> Trip end station longitude </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:left;\"> member_casual </td>\n   <td style=\"text-align:left;\"> Text </td>\n   <td style=\"text-align:left;\"> User type (casual or member) </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n<br/>\n\nOnly two variables need further clarification:\n\n-   `rideable_type` - there are three possible values for this variable: `classic_bike`, `docked_bike`, and `electric_bike`. `classic_bike` is actually a classic dockless bike, `docked_bike` is a classic docked bike, and `electric_bike` is an e-bike that can be either docked at any station or locked with cable at any e-station for no additional cost. For an extra \\$2, it's possible to lock a bike to any public bike rack, light pole, signpost, or retired parking meter outside of a station within the service area. Classic blue Divvy bikes can only be docked in the traditional Divvy stations.\n\n-   `member_casual` - there are two possible values for this variable: `casual` and `member` representing casual riders and annual members. Casual riders buy a Single Ride Pass (one trip up to 30 minutes), or a Day Pass (unlimited 3-hour rides for 24-hours), while members buy Annual Membership (unlimited 45-min rides). This is important because in the cleaning step of the analysis I will filter out all trips with ride length longer than **3 hours**.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](images/divvy_plans.jpg){fig-align='center' width=704}\n:::\n:::\n\n\n<br/>\n\n**Note:** If we want to show the most popular stations for each group on the map, each station must have unique geographical coordinates. This is not the case for trips taken with electric bikes. Each such ride has its own starting and ending coordinates, regardless of the start or end station. The problem is illustrated in the following maps made in Tableau:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Start station frequency for classic and docked bikes](images/trips_classicbike_map.png){fig-align='center' width=100%}\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Start station frequency for electric bikes](images/trips_ebike_map.jpg){fig-align='center' width=100%}\n:::\n:::\n\n\nHence, I will additionally use the publicly available file, Divvy_Bicycle_Stations.csv, that contains a list of all stations and corresponding geographical coordinates ([link](https://data.cityofchicago.org/Transportation/Divvy-Bicycle-Stations/bbyy-e7gq)). This file is updated regularly. My version is from October, 2021. I'll also use it to check current station names.\n\n### Setting up the programming environment\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# loading packages\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(janitor)\nlibrary(skimr)\nlibrary(leaflet)\n```\n:::\n\n\n### Reading the datasets\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# historical monthly trip data\nsep_2020 <- read_csv(\"data/202009-divvy-tripdata.csv\")\noct_2020 <- read_csv(\"data/202010-divvy-tripdata.csv\")\nnov_2020 <- read_csv(\"data/202011-divvy-tripdata.csv\")\ndec_2020 <- read_csv(\"data/202012-divvy-tripdata.csv\")\njan_2021 <- read_csv(\"data/202101-divvy-tripdata.csv\")\nfeb_2021 <- read_csv(\"data/202102-divvy-tripdata.csv\")\nmar_2021 <- read_csv(\"data/202103-divvy-tripdata.csv\")\napr_2021 <- read_csv(\"data/202104-divvy-tripdata.csv\")\nmay_2021 <- read_csv(\"data/202105-divvy-tripdata.csv\")\njun_2021 <- read_csv(\"data/202106-divvy-tripdata.csv\")\njul_2021 <- read_csv(\"data/202107-divvy-tripdata.csv\")\naug_2021 <- read_csv(\"data/202108-divvy-tripdata.csv\")\n\n# current Divvy stations with coordinates\ndivvy_stations <- read_csv(\"data/Divvy_Bicycle_Stations.csv\")\n```\n:::\n\n\nIn order to bind all 12 dataframes into a single dataframe they need to have consistent column names and data types. I will now check if the dataframes are row-bindable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncompare_df_cols_same(\n  sep_2020, oct_2020, nov_2020, dec_2020, jan_2021, feb_2021, mar_2021, \n  apr_2021, may_2021, jun_2021, jul_2021, aug_2021,\n  bind_method = c(\"bind_rows\", \"rbind\"),\n  verbose = TRUE\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       column_name     ..1     ..2     ..3       ..4       ..5       ..6\n1   end_station_id numeric numeric numeric character character character\n2 start_station_id numeric numeric numeric character character character\n        ..7       ..8       ..9      ..10      ..11      ..12\n1 character character character character character character\n2 character character character character character character\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] FALSE\n```\n:::\n:::\n\n\nColumns `start_station_id` and `end_station_id` in the first three datasets (2020-Sep to 2020-Nov) have a numeric data type. I will convert them to characters.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsep_2020 <- mutate(sep_2020, start_station_id = as.character(start_station_id), \n                   end_station_id = as.character(end_station_id))\noct_2020 <- mutate(oct_2020, start_station_id = as.character(start_station_id), \n                   end_station_id = as.character(end_station_id))\nnov_2020 <- mutate(nov_2020, start_station_id = as.character(start_station_id), \n                   end_station_id = as.character(end_station_id))\n```\n:::\n\n\nBinding individual month's dataframes into one big dataframe.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips <- bind_rows(sep_2020, oct_2020, nov_2020, dec_2020, jan_2021, feb_2021, \n                       mar_2021, apr_2021, may_2021, jun_2021, jul_2021, aug_2021)\n```\n:::\n\n\n### Data overview\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# data dimensions (rows x columns)\ndim_desc(all_trips)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"[4,913,072 x 13]\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrmarkdown::paged_table(head(all_trips)) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"ride_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"rideable_type\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"started_at\"],\"name\":[3],\"type\":[\"dttm\"],\"align\":[\"right\"]},{\"label\":[\"ended_at\"],\"name\":[4],\"type\":[\"dttm\"],\"align\":[\"right\"]},{\"label\":[\"start_station_name\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"start_station_id\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"end_station_name\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"end_station_id\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"start_lat\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"start_lng\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"end_lat\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"end_lng\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"member_casual\"],\"name\":[13],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"2B22BD5F95FB2629\",\"2\":\"electric_bike\",\"3\":\"2020-09-17 14:27:11\",\"4\":\"2020-09-17 14:44:24\",\"5\":\"Michigan Ave & Lake St\",\"6\":\"52\",\"7\":\"Green St & Randolph St\",\"8\":\"112\",\"9\":\"41.88669\",\"10\":\"-87.62356\",\"11\":\"41.88357\",\"12\":\"-87.64873\",\"13\":\"casual\"},{\"1\":\"A7FB70B4AFC6CAF2\",\"2\":\"electric_bike\",\"3\":\"2020-09-17 15:07:31\",\"4\":\"2020-09-17 15:07:45\",\"5\":\"W Oakdale Ave & N Broadway\",\"6\":\"NA\",\"7\":\"W Oakdale Ave & N Broadway\",\"8\":\"NA\",\"9\":\"41.94000\",\"10\":\"-87.64000\",\"11\":\"41.94000\",\"12\":\"-87.64000\",\"13\":\"casual\"},{\"1\":\"86057FA01BAC778E\",\"2\":\"electric_bike\",\"3\":\"2020-09-17 15:09:04\",\"4\":\"2020-09-17 15:09:35\",\"5\":\"W Oakdale Ave & N Broadway\",\"6\":\"NA\",\"7\":\"W Oakdale Ave & N Broadway\",\"8\":\"NA\",\"9\":\"41.94000\",\"10\":\"-87.64000\",\"11\":\"41.94000\",\"12\":\"-87.64000\",\"13\":\"casual\"},{\"1\":\"57F6DC9A153DB98C\",\"2\":\"electric_bike\",\"3\":\"2020-09-17 18:10:46\",\"4\":\"2020-09-17 18:35:49\",\"5\":\"Ashland Ave & Belle Plaine Ave\",\"6\":\"246\",\"7\":\"Montrose Harbor\",\"8\":\"249\",\"9\":\"41.95606\",\"10\":\"-87.66892\",\"11\":\"41.96398\",\"12\":\"-87.63822\",\"13\":\"casual\"},{\"1\":\"B9C4712F78C1AE68\",\"2\":\"electric_bike\",\"3\":\"2020-09-17 15:16:13\",\"4\":\"2020-09-17 15:52:55\",\"5\":\"Fairbanks Ct & Grand Ave\",\"6\":\"24\",\"7\":\"Fairbanks Ct & Grand Ave\",\"8\":\"24\",\"9\":\"41.89186\",\"10\":\"-87.62101\",\"11\":\"41.89135\",\"12\":\"-87.62032\",\"13\":\"casual\"},{\"1\":\"378BBCE1E444EB80\",\"2\":\"electric_bike\",\"3\":\"2020-09-17 18:37:04\",\"4\":\"2020-09-17 19:23:28\",\"5\":\"Clark St & Armitage Ave\",\"6\":\"94\",\"7\":\"NA\",\"8\":\"NA\",\"9\":\"41.91826\",\"10\":\"-87.63636\",\"11\":\"41.88000\",\"12\":\"-87.62000\",\"13\":\"casual\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(all_trips)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 4,913,072\nColumns: 13\n$ ride_id            <chr> \"2B22BD5F95FB2629\", \"A7FB70B4AFC6CAF2\", \"86057FA01B…\n$ rideable_type      <chr> \"electric_bike\", \"electric_bike\", \"electric_bike\", …\n$ started_at         <dttm> 2020-09-17 14:27:11, 2020-09-17 15:07:31, 2020-09-…\n$ ended_at           <dttm> 2020-09-17 14:44:24, 2020-09-17 15:07:45, 2020-09-…\n$ start_station_name <chr> \"Michigan Ave & Lake St\", \"W Oakdale Ave & N Broadw…\n$ start_station_id   <chr> \"52\", NA, NA, \"246\", \"24\", \"94\", \"291\", NA, NA, NA,…\n$ end_station_name   <chr> \"Green St & Randolph St\", \"W Oakdale Ave & N Broadw…\n$ end_station_id     <chr> \"112\", NA, NA, \"249\", \"24\", NA, \"256\", NA, NA, NA, …\n$ start_lat          <dbl> 41.88669, 41.94000, 41.94000, 41.95606, 41.89186, 4…\n$ start_lng          <dbl> -87.62356, -87.64000, -87.64000, -87.66892, -87.621…\n$ end_lat            <dbl> 41.88357, 41.94000, 41.94000, 41.96398, 41.89135, 4…\n$ end_lng            <dbl> -87.64873, -87.64000, -87.64000, -87.63822, -87.620…\n$ member_casual      <chr> \"casual\", \"casual\", \"casual\", \"casual\", \"casual\", \"…\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(all_trips$started_at)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"2020-09-17 14:27:11 UTC\" \"2020-09-17 15:07:31 UTC\"\n[3] \"2020-09-17 15:09:04 UTC\" \"2020-09-17 18:10:46 UTC\"\n[5] \"2020-09-17 15:16:13 UTC\" \"2020-09-17 18:37:04 UTC\"\n```\n:::\n:::\n\n\nOverview of the dataframe with current Divvy stations and corresponding coordinates.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndim_desc(divvy_stations)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"[785 x 8]\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrmarkdown::paged_table(head(divvy_stations))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"ID\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Station Name\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Total Docks\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Docks in Service\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Status\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Latitude\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Longitude\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Location\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"373\",\"2\":\"Kedzie Ave & Chicago Ave\",\"3\":\"11\",\"4\":\"11\",\"5\":\"In Service\",\"6\":\"41.89547\",\"7\":\"-87.70613\",\"8\":\"(41.89546530305, -87.7061278837)\"},{\"1\":\"102\",\"2\":\"Stony Island Ave & 67th St\",\"3\":\"11\",\"4\":\"11\",\"5\":\"In Service\",\"6\":\"41.77346\",\"7\":\"-87.58534\",\"8\":\"(41.77345849948, -87.5853397391)\"},{\"1\":\"438\",\"2\":\"Central Park Ave & Ogden Ave\",\"3\":\"15\",\"4\":\"15\",\"5\":\"In Service\",\"6\":\"41.85406\",\"7\":\"-87.71512\",\"8\":\"(41.854063503874464, -87.71511733531952)\"},{\"1\":\"656\",\"2\":\"Damen Ave & Walnut (Lake) St\",\"3\":\"15\",\"4\":\"15\",\"5\":\"In Service\",\"6\":\"41.88595\",\"7\":\"-87.67701\",\"8\":\"(41.885951, -87.677009)\"},{\"1\":\"648\",\"2\":\"Carpenter St & 63rd St\",\"3\":\"7\",\"4\":\"7\",\"5\":\"In Service\",\"6\":\"41.77987\",\"7\":\"-87.65092\",\"8\":\"(41.77987, -87.650919)\"},{\"1\":\"658\",\"2\":\"Leavitt St & Division St\",\"3\":\"15\",\"4\":\"15\",\"5\":\"In Service\",\"6\":\"41.90300\",\"7\":\"-87.68382\",\"8\":\"(41.902997, -87.683825)\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# making column names clean\ndivvy_stations <- divvy_stations %>% \n    set_names(names(.) %>% str_replace(\" \", \"_\") %>% str_to_lower())\n\nnames(divvy_stations)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"id\"               \"station_name\"     \"total_docks\"      \"docks_in service\"\n[5] \"status\"           \"latitude\"         \"longitude\"        \"location\"        \n```\n:::\n:::\n\n\n<br/>\n\n## PART III - Process\n\nIn this step I am going to explore the data further and finally clean it.\n\nRight now I can aggregate data only at the ride level, so I am going to create 3 new columns `year_month`, `day_of_week`, and `hour` extracted from the datetime column `started_at` and convert them to factors where needed.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips <- all_trips %>% \n    mutate(year_month = format(as.Date(all_trips$started_at), \"%Y-%m\") %>% as.factor(),\n           day_of_week = wday(started_at, label = TRUE, abbr = FALSE, \n                            week_start = getOption(\"lubridate.week.start\", 1)),\n           hour = hour(started_at) %>% as.factor()) \n```\n:::\n\n\nCalculating and creating a new column `ride_length` in minutes, then converting it to a numeric data type and rounding to 2 decimal places.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips <- all_trips %>% \n    mutate(ride_length = difftime(ended_at, started_at, units=\"mins\") %>% as.numeric() %>% round(2))\n```\n:::\n\n\nChecking if everything is OK.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrmarkdown::paged_table(sample_n(all_trips, 10))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"ride_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"rideable_type\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"started_at\"],\"name\":[3],\"type\":[\"dttm\"],\"align\":[\"right\"]},{\"label\":[\"ended_at\"],\"name\":[4],\"type\":[\"dttm\"],\"align\":[\"right\"]},{\"label\":[\"start_station_name\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"start_station_id\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"end_station_name\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"end_station_id\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"start_lat\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"start_lng\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"end_lat\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"end_lng\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"member_casual\"],\"name\":[13],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"year_month\"],\"name\":[14],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"day_of_week\"],\"name\":[15],\"type\":[\"ord\"],\"align\":[\"right\"]},{\"label\":[\"hour\"],\"name\":[16],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"ride_length\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"9CC9ECB3FFF999C3\",\"2\":\"classic_bike\",\"3\":\"2021-05-14 21:43:34\",\"4\":\"2021-05-14 22:14:21\",\"5\":\"Rush St & Superior St\",\"6\":\"15530\",\"7\":\"Streeter Dr & Grand Ave\",\"8\":\"13022\",\"9\":\"41.89576\",\"10\":\"-87.62591\",\"11\":\"41.89228\",\"12\":\"-87.61204\",\"13\":\"casual\",\"14\":\"2021-05\",\"15\":\"Friday\",\"16\":\"21\",\"17\":\"30.78\"},{\"1\":\"FE620251AFA3F73B\",\"2\":\"classic_bike\",\"3\":\"2021-08-11 08:14:14\",\"4\":\"2021-08-11 08:20:14\",\"5\":\"Clark St & Chicago Ave\",\"6\":\"13303\",\"7\":\"Larrabee St & Kingsbury St\",\"8\":\"TA1306000009\",\"9\":\"41.89675\",\"10\":\"-87.63089\",\"11\":\"41.89776\",\"12\":\"-87.64288\",\"13\":\"member\",\"14\":\"2021-08\",\"15\":\"Wednesday\",\"16\":\"8\",\"17\":\"6.00\"},{\"1\":\"E31E76078DADAC1C\",\"2\":\"electric_bike\",\"3\":\"2021-06-14 18:15:55\",\"4\":\"2021-06-14 18:25:10\",\"5\":\"NA\",\"6\":\"NA\",\"7\":\"California Ave & Milwaukee Ave\",\"8\":\"13084\",\"9\":\"41.90000\",\"10\":\"-87.67000\",\"11\":\"41.92264\",\"12\":\"-87.69701\",\"13\":\"member\",\"14\":\"2021-06\",\"15\":\"Monday\",\"16\":\"18\",\"17\":\"9.25\"},{\"1\":\"5C3458D155512D6C\",\"2\":\"electric_bike\",\"3\":\"2021-03-31 17:46:19\",\"4\":\"2021-03-31 18:01:49\",\"5\":\"Lincoln Ave & Fullerton Ave\",\"6\":\"TA1309000058\",\"7\":\"Orleans St & Hubbard St\",\"8\":\"636\",\"9\":\"41.92590\",\"10\":\"-87.64921\",\"11\":\"41.88991\",\"12\":\"-87.63577\",\"13\":\"casual\",\"14\":\"2021-03\",\"15\":\"Wednesday\",\"16\":\"17\",\"17\":\"15.50\"},{\"1\":\"4ED4FC5D9BDB1006\",\"2\":\"electric_bike\",\"3\":\"2020-09-20 14:32:57\",\"4\":\"2020-09-20 14:38:19\",\"5\":\"Carpenter St & Huron St\",\"6\":\"92\",\"7\":\"NA\",\"8\":\"NA\",\"9\":\"41.89459\",\"10\":\"-87.65344\",\"11\":\"41.89000\",\"12\":\"-87.65000\",\"13\":\"member\",\"14\":\"2020-09\",\"15\":\"Sunday\",\"16\":\"14\",\"17\":\"5.37\"},{\"1\":\"BFAA99281AA67F6E\",\"2\":\"docked_bike\",\"3\":\"2020-10-05 07:30:42\",\"4\":\"2020-10-05 07:43:37\",\"5\":\"Eckhart Park\",\"6\":\"86\",\"7\":\"Clark St & Chicago Ave\",\"8\":\"337\",\"9\":\"41.89637\",\"10\":\"-87.66098\",\"11\":\"41.89675\",\"12\":\"-87.63089\",\"13\":\"member\",\"14\":\"2020-10\",\"15\":\"Monday\",\"16\":\"7\",\"17\":\"12.92\"},{\"1\":\"CFA46D47E9DD77B4\",\"2\":\"docked_bike\",\"3\":\"2020-10-22 17:33:42\",\"4\":\"2020-10-22 17:38:51\",\"5\":\"Franklin St & Lake St\",\"6\":\"164\",\"7\":\"Morgan St & Lake St\",\"8\":\"71\",\"9\":\"41.88584\",\"10\":\"-87.63550\",\"11\":\"41.88548\",\"12\":\"-87.65230\",\"13\":\"member\",\"14\":\"2020-10\",\"15\":\"Thursday\",\"16\":\"17\",\"17\":\"5.15\"},{\"1\":\"D271C15B7FDE9861\",\"2\":\"docked_bike\",\"3\":\"2020-09-14 14:49:47\",\"4\":\"2020-09-14 15:10:18\",\"5\":\"Lincoln Ave & Belle Plaine Ave\",\"6\":\"298\",\"7\":\"Halsted St & Wrightwood Ave\",\"8\":\"349\",\"9\":\"41.95600\",\"10\":\"-87.68016\",\"11\":\"41.92914\",\"12\":\"-87.64908\",\"13\":\"casual\",\"14\":\"2020-09\",\"15\":\"Monday\",\"16\":\"14\",\"17\":\"20.52\"},{\"1\":\"1BF8DD15077F729C\",\"2\":\"electric_bike\",\"3\":\"2021-06-23 17:39:17\",\"4\":\"2021-06-23 17:47:01\",\"5\":\"Ashland Ave & Chicago Ave\",\"6\":\"13247\",\"7\":\"NA\",\"8\":\"NA\",\"9\":\"41.89598\",\"10\":\"-87.66773\",\"11\":\"41.90000\",\"12\":\"-87.69000\",\"13\":\"member\",\"14\":\"2021-06\",\"15\":\"Wednesday\",\"16\":\"17\",\"17\":\"7.73\"},{\"1\":\"56A5577CFA43D32D\",\"2\":\"classic_bike\",\"3\":\"2021-04-26 19:19:34\",\"4\":\"2021-04-26 19:32:17\",\"5\":\"Orleans St & Hubbard St\",\"6\":\"636\",\"7\":\"Wells St & Elm St\",\"8\":\"KA1504000135\",\"9\":\"41.89003\",\"10\":\"-87.63662\",\"11\":\"41.90322\",\"12\":\"-87.63432\",\"13\":\"member\",\"14\":\"2021-04\",\"15\":\"Monday\",\"16\":\"19\",\"17\":\"12.72\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n<br/>\n\nAll is good! Let's see the summary statistics.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskim_without_charts(all_trips)\n```\n\n::: {.cell-output-display}\n<table style='width: auto;'\n      class='table table-condensed'>\n<caption>Data summary</caption>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Name </td>\n   <td style=\"text-align:left;\"> all_trips </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Number of rows </td>\n   <td style=\"text-align:left;\"> 4913072 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Number of columns </td>\n   <td style=\"text-align:left;\"> 17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> _______________________ </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Column type frequency: </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> character </td>\n   <td style=\"text-align:left;\"> 7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> factor </td>\n   <td style=\"text-align:left;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> numeric </td>\n   <td style=\"text-align:left;\"> 5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> POSIXct </td>\n   <td style=\"text-align:left;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ________________________ </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Group variables </td>\n   <td style=\"text-align:left;\"> None </td>\n  </tr>\n</tbody>\n</table>\n\n\n**Variable type: character**\n\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> skim_variable </th>\n   <th style=\"text-align:right;\"> n_missing </th>\n   <th style=\"text-align:right;\"> complete_rate </th>\n   <th style=\"text-align:right;\"> min </th>\n   <th style=\"text-align:right;\"> max </th>\n   <th style=\"text-align:right;\"> empty </th>\n   <th style=\"text-align:right;\"> n_unique </th>\n   <th style=\"text-align:right;\"> whitespace </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> ride_id </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4912863 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> rideable_type </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> start_station_name </td>\n   <td style=\"text-align:right;\"> 450045 </td>\n   <td style=\"text-align:right;\"> 0.91 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 53 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 757 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> start_station_id </td>\n   <td style=\"text-align:right;\"> 450571 </td>\n   <td style=\"text-align:right;\"> 0.91 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1293 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> end_station_name </td>\n   <td style=\"text-align:right;\"> 491380 </td>\n   <td style=\"text-align:right;\"> 0.90 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 53 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 756 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> end_station_id </td>\n   <td style=\"text-align:right;\"> 491764 </td>\n   <td style=\"text-align:right;\"> 0.90 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1293 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member_casual </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n\n**Variable type: factor**\n\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> skim_variable </th>\n   <th style=\"text-align:right;\"> n_missing </th>\n   <th style=\"text-align:right;\"> complete_rate </th>\n   <th style=\"text-align:left;\"> ordered </th>\n   <th style=\"text-align:right;\"> n_unique </th>\n   <th style=\"text-align:left;\"> top_counts </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> year_month </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> FALSE </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:left;\"> 202: 822410, 202: 804352, 202: 729595, 202: 532958 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day_of_week </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> TRUE </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:left;\"> Sat: 889412, Sun: 758229, Fri: 719239, Wed: 648981 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> hour </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> FALSE </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:left;\"> 17: 499035, 18: 435037, 16: 415752, 15: 353319 </td>\n  </tr>\n</tbody>\n</table>\n\n\n**Variable type: numeric**\n\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> skim_variable </th>\n   <th style=\"text-align:right;\"> n_missing </th>\n   <th style=\"text-align:right;\"> complete_rate </th>\n   <th style=\"text-align:right;\"> mean </th>\n   <th style=\"text-align:right;\"> sd </th>\n   <th style=\"text-align:right;\"> p0 </th>\n   <th style=\"text-align:right;\"> p25 </th>\n   <th style=\"text-align:right;\"> p50 </th>\n   <th style=\"text-align:right;\"> p75 </th>\n   <th style=\"text-align:right;\"> p100 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> start_lat </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 41.90 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n   <td style=\"text-align:right;\"> 41.64 </td>\n   <td style=\"text-align:right;\"> 41.88 </td>\n   <td style=\"text-align:right;\"> 41.90 </td>\n   <td style=\"text-align:right;\"> 41.93 </td>\n   <td style=\"text-align:right;\"> 42.08 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> start_lng </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -87.65 </td>\n   <td style=\"text-align:right;\"> 0.03 </td>\n   <td style=\"text-align:right;\"> -87.84 </td>\n   <td style=\"text-align:right;\"> -87.66 </td>\n   <td style=\"text-align:right;\"> -87.64 </td>\n   <td style=\"text-align:right;\"> -87.63 </td>\n   <td style=\"text-align:right;\"> -87.52 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> end_lat </td>\n   <td style=\"text-align:right;\"> 5015 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 41.90 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n   <td style=\"text-align:right;\"> 41.51 </td>\n   <td style=\"text-align:right;\"> 41.88 </td>\n   <td style=\"text-align:right;\"> 41.90 </td>\n   <td style=\"text-align:right;\"> 41.93 </td>\n   <td style=\"text-align:right;\"> 42.15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> end_lng </td>\n   <td style=\"text-align:right;\"> 5015 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> -87.65 </td>\n   <td style=\"text-align:right;\"> 0.03 </td>\n   <td style=\"text-align:right;\"> -88.07 </td>\n   <td style=\"text-align:right;\"> -87.66 </td>\n   <td style=\"text-align:right;\"> -87.64 </td>\n   <td style=\"text-align:right;\"> -87.63 </td>\n   <td style=\"text-align:right;\"> -87.44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ride_length </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 21.14 </td>\n   <td style=\"text-align:right;\"> 317.71 </td>\n   <td style=\"text-align:right;\"> -29049.97 </td>\n   <td style=\"text-align:right;\"> 7.18 </td>\n   <td style=\"text-align:right;\"> 12.80 </td>\n   <td style=\"text-align:right;\"> 23.27 </td>\n   <td style=\"text-align:right;\"> 55944.15 </td>\n  </tr>\n</tbody>\n</table>\n\n\n**Variable type: POSIXct**\n\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> skim_variable </th>\n   <th style=\"text-align:right;\"> n_missing </th>\n   <th style=\"text-align:right;\"> complete_rate </th>\n   <th style=\"text-align:left;\"> min </th>\n   <th style=\"text-align:left;\"> max </th>\n   <th style=\"text-align:left;\"> median </th>\n   <th style=\"text-align:right;\"> n_unique </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> started_at </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 00:00:07 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 23:59:35 </td>\n   <td style=\"text-align:left;\"> 2021-05-26 16:51:05 </td>\n   <td style=\"text-align:right;\"> 4137017 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ended_at </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 00:04:43 </td>\n   <td style=\"text-align:left;\"> 2021-09-01 17:37:35 </td>\n   <td style=\"text-align:left;\"> 2021-05-26 17:12:45 </td>\n   <td style=\"text-align:right;\"> 4124534 </td>\n  </tr>\n</tbody>\n</table>\n:::\n:::\n\n\n<br/>\n\nBy observing the data summary we can notice the following problems that need to be addressed:\n\n-   number of unique ride ids doesn't match the number of observations - duplicate rows\n-   missing values (NAs) in the `start_station_name`, `start_station_id`, `end_station_name`, and `end_station_id` column\n-   number of station ids doesn't match the number of stations - it is almost twice as big\n-   name of the `member_casual` column is vague, I will rename it to `user_type`\n-   5015 missing values (NAs) in the `end_lat` and `end_lng` column\n-   minimum value for the `ride_length` column is -20.2 days, maximum value is 38.9 days\n\n### Removing duplicate rows based on `ride_id` column\n\nEach row represents one observation (trip). Based on the previous summary, there is a total of 4,913,072 rows and 4,912,863 unique ride_id values, meaning there are 209 rows of duplicated data. I will remove them.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 <- all_trips[!duplicated(all_trips$ride_id), ] \n\nnrow(all_trips) - nrow(all_trips_v2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 209\n```\n:::\n:::\n\n\n### Renaming column `member_casual` to `user_type`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 <- rename(all_trips_v2, user_type = member_casual)\n```\n:::\n\n\n### Inspecting observations with missing values in `end_lat` and `end_lng` column\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_NA <- filter(all_trips_v2, is.na(end_lat) & is.na(end_lng))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_NA %>%\n    filter(between(ride_length, 1, 180)) %>%\n    summarise(mean_ride_length = mean(ride_length))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  mean_ride_length\n             <dbl>\n1             51.5\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 %>%\n    filter(between(ride_length, 1, 180)) %>%\n    summarise(mean_ride_length = mean(ride_length))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  mean_ride_length\n             <dbl>\n1             19.4\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nftable(all_trips_NA$user_type, all_trips_NA$year_month, all_trips_NA$rideable_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                classic_bike docked_bike\n                                        \ncasual 2020-09             0         325\n       2020-10             0         180\n       2020-11             0          93\n       2020-12            31           4\n       2021-01            22           0\n       2021-02            58           0\n       2021-03           110           0\n       2021-04           187           0\n       2021-05           339           0\n       2021-06           525           0\n       2021-07           583           0\n       2021-08           561           0\nmember 2020-09             0         464\n       2020-10             0         294\n       2020-11             0         191\n       2020-12            47          28\n       2021-01            81           0\n       2021-02           156           0\n       2021-03            57           0\n       2021-04            80           0\n       2021-05           113           0\n       2021-06           192           0\n       2021-07           148           0\n       2021-08           145           0\n```\n:::\n:::\n\n\n**Conclusion:** in this subset there are 5015 observations (0.1%) across all months; only classic and docked bikes; average ride length is unusually high (51 min) compared to the whole dataset (19.4 mi)(. These rides ended somewhere outside of the station for some reason (traffic accident, malfunction, etc.). I will remove this subset from the dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 <- setdiff(all_trips_v2, all_trips_NA)\n```\n:::\n\n\nI won't need the columns with coordinates anymore, so I'll remove them to make my dataframe lighter. Later on, I'll join the coordinates from the divvy_stations dataframe.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 <- all_trips_v2 %>% \n  select(-c(start_lat, start_lng, end_lat, end_lng))\n```\n:::\n\n\n### Removing trips\n\n-   associated with Divvy test and repair stations\n-   with negative ride length (the end of the trip precedes the start)\n-   with ride length between 0 and 1 min (potentially false starts or users trying to re-dock a bike to ensure it was secure)\n-   with ride length longer than 180 min (3 hours)\n\nLooking for specific values in the `start_station_name` column associated with Divvy test and repair stations.\n\n<details>\n\n<summary>Show code and output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(all_trips_v2$start_station_name)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  [1] \"Michigan Ave & Lake St\"                               \n  [2] \"W Oakdale Ave & N Broadway\"                           \n  [3] \"Ashland Ave & Belle Plaine Ave\"                       \n  [4] \"Fairbanks Ct & Grand Ave\"                             \n  [5] \"Clark St & Armitage Ave\"                              \n  [6] \"Wells St & Evergreen Ave\"                             \n  [7] NA                                                     \n  [8] \"Michigan Ave & 18th St\"                               \n  [9] \"Mies van der Rohe Way & Chestnut St\"                  \n [10] \"Halsted St & Polk St\"                                 \n [11] \"Albany Ave & Bloomingdale Ave\"                        \n [12] \"Lake Shore Dr & Diversey Pkwy\"                        \n [13] \"Elston Ave & Wabansia Ave\"                            \n [14] \"Clybourn Ave & Division St\"                           \n [15] \"Campbell Ave & Fullerton Ave\"                         \n [16] \"Clark St & Lake St\"                                   \n [17] \"Sawyer Ave & Irving Park Rd\"                          \n [18] \"Financial Pl & Ida B Wells Dr\"                        \n [19] \"Wells St & Huron St\"                                  \n [20] \"Shedd Aquarium\"                                       \n [21] \"Streeter Dr & Grand Ave\"                              \n [22] \"Bissell St & Armitage Ave\"                            \n [23] \"Franklin St & Lake St\"                                \n [24] \"Sedgwick St & Huron St\"                               \n [25] \"Dearborn Pkwy & Delaware Pl\"                          \n [26] \"Halsted St & Dickens Ave\"                             \n [27] \"Clark St & Schiller St\"                               \n [28] \"Michigan Ave & Washington St\"                         \n [29] \"Aberdeen St & Jackson Blvd\"                           \n [30] \"Wilton Ave & Diversey Pkwy\"                           \n [31] \"Wells St & Hubbard St\"                                \n [32] \"Archer (Damen) Ave & 37th St\"                         \n [33] \"Franklin St & Monroe St\"                              \n [34] \"Dearborn St & Monroe St\"                              \n [35] \"Morgan St & Lake St\"                                  \n [36] \"Broadway & Granville Ave\"                             \n [37] \"Columbus Dr & Randolph St\"                            \n [38] \"California Ave & Milwaukee Ave\"                       \n [39] \"Milwaukee Ave & Cuyler Ave\"                           \n [40] \"Wells St & Concord Ln\"                                \n [41] \"Ashland Ave & Wellington Ave\"                         \n [42] \"Sheridan Rd & Buena Ave\"                              \n [43] \"Cottage Grove Ave & 83rd St\"                          \n [44] \"LaSalle Dr & Huron St\"                                \n [45] \"Michigan Ave & 14th St\"                               \n [46] \"Damen Ave & Division St\"                              \n [47] \"Museum of Science and Industry\"                       \n [48] \"Wells St & Polk St\"                                   \n [49] \"Clark St & North Ave\"                                 \n [50] \"Milwaukee Ave & Grand Ave\"                            \n [51] \"Wentworth Ave & 104th St\"                             \n [52] \"Rush St & Cedar St\"                                   \n [53] \"Lincoln Park Conservatory\"                            \n [54] \"Lake Shore Dr & Wellington Ave\"                       \n [55] \"Dearborn St & Erie St\"                                \n [56] \"Adler Planetarium\"                                    \n [57] \"Leavitt St & Addison St\"                              \n [58] \"Damen Ave & Madison St\"                               \n [59] \"Sheffield Ave & Willow St\"                            \n [60] \"McClurg Ct & Illinois St\"                             \n [61] \"Indiana Ave & Roosevelt Rd\"                           \n [62] \"Orleans St & Hubbard St\"                              \n [63] \"Seeley Ave & Roscoe St\"                               \n [64] \"Clark St & Grace St\"                                  \n [65] \"Wabash Ave & Grand Ave\"                               \n [66] \"Clark St & Schreiber Ave\"                             \n [67] \"Paulina Ave & North Ave\"                              \n [68] \"Southport Ave & Waveland Ave\"                         \n [69] \"Wentworth Ave & Cermak Rd\"                            \n [70] \"Buckingham Fountain\"                                  \n [71] \"Fort Dearborn Dr & 31st St\"                           \n [72] \"Francisco Ave & Foster Ave\"                           \n [73] \"Sheridan Rd & Loyola Ave\"                             \n [74] \"Clinton St & Madison St\"                              \n [75] \"Halsted St & Clybourn Ave\"                            \n [76] \"Halsted St & Wrightwood Ave\"                          \n [77] \"Peoria St & Jackson Blvd\"                             \n [78] \"Ellis Ave & 60th St\"                                  \n [79] \"Michigan Ave & Madison St\"                            \n [80] \"Lakefront Trail & Bryn Mawr Ave\"                      \n [81] \"Lake Shore Dr & North Blvd\"                           \n [82] \"Clark St & Bryn Mawr Ave\"                             \n [83] \"University Ave & 57th St\"                             \n [84] \"Ashland Ave & Blackhawk St\"                           \n [85] \"Larrabee St & Armitage Ave\"                           \n [86] \"Damen Ave & Pierce Ave\"                               \n [87] \"Damen Ave & Melrose Ave\"                              \n [88] \"Racine Ave & Belmont Ave\"                             \n [89] \"Franklin St & Illinois St\"                            \n [90] \"Broadway & Thorndale Ave\"                             \n [91] \"Ashland Ave & Chicago Ave\"                            \n [92] \"Honore St & Division St\"                              \n [93] \"Southport Ave & Wrightwood Ave\"                       \n [94] \"Clark St & Winnemac Ave\"                              \n [95] \"Eastlake Ter & Rogers Ave\"                            \n [96] \"Clarendon Ave & Junior Ter\"                           \n [97] \"Lake Shore Dr & Monroe St\"                            \n [98] \"Kedzie Ave & Milwaukee Ave\"                           \n [99] \"Michigan Ave & 8th St\"                                \n[100] \"Clinton St & Jackson Blvd\"                            \n[101] \"Lincoln Ave & Sunnyside Ave\"                          \n[102] \"Lake Park Ave & 53rd St\"                              \n[103] \"Desplaines St & Kinzie St\"                            \n[104] \"Lake Park Ave & 35th St\"                              \n[105] \"Kingsbury St & Kinzie St\"                             \n[106] \"Dayton St & North Ave\"                                \n[107] \"Lakeview Ave & Fullerton Pkwy\"                        \n[108] \"Paulina St & Howard St\"                               \n[109] \"Clarendon Ave & Leland Ave\"                           \n[110] \"Chicago Ave & Sheridan Rd\"                            \n[111] \"May St & Cullerton St\"                                \n[112] \"Wood St & Milwaukee Ave\"                              \n[113] \"Green St & Madison St\"                                \n[114] \"Western Ave & Winnebago Ave\"                          \n[115] \"Broadway & Cornelia Ave\"                              \n[116] \"Orleans St & Merchandise Mart Plaza\"                  \n[117] \"McClurg Ct & Erie St\"                                 \n[118] \"Dorchester Ave & 49th St\"                             \n[119] \"Sheffield Ave & Wrightwood Ave\"                       \n[120] \"Shore Dr & 55th St\"                                   \n[121] \"Larrabee St & Kingsbury St\"                           \n[122] \"Damen Ave & Wellington Ave\"                           \n[123] \"Wood St & Chicago Ave\"                                \n[124] \"Desplaines St & Jackson Blvd\"                         \n[125] \"LaSalle St & Illinois St\"                             \n[126] \"State St & Kinzie St\"                                 \n[127] \"Richmond St & Diversey Ave\"                           \n[128] \"Sedgwick St & Schiller St\"                            \n[129] \"Southport Ave & Wellington Ave\"                       \n[130] \"Eberhart Ave & 61st St\"                               \n[131] \"MLK Jr Dr & 29th St\"                                  \n[132] \"Indiana Ave & 26th St\"                                \n[133] \"Humboldt Blvd & Armitage Ave\"                         \n[134] \"Damen Ave & Chicago Ave\"                              \n[135] \"Burling St & Diversey Pkwy\"                           \n[136] \"Franklin St & Adams St (Temp)\"                        \n[137] \"Greenview Ave & Jarvis Ave\"                           \n[138] \"Mies van der Rohe Way & Chicago Ave\"                  \n[139] \"Racine Ave & 18th St\"                                 \n[140] \"Kedzie Ave & Roosevelt Rd\"                            \n[141] \"Ridge Blvd & Howard St\"                               \n[142] \"Canal St & Adams St\"                                  \n[143] \"Lake Shore Dr & Ohio St\"                              \n[144] \"Ritchie Ct & Banks St\"                                \n[145] \"Clinton St & Lake St\"                                 \n[146] \"Noble St & Milwaukee Ave\"                             \n[147] \"Logan Blvd & Elston Ave\"                              \n[148] \"Austin Blvd & Lake St\"                                \n[149] \"Wabash Ave & Roosevelt Rd\"                            \n[150] \"Loomis St & Lexington St\"                             \n[151] \"Wabash Ave & 9th St\"                                  \n[152] \"Larrabee St & Oak St\"                                 \n[153] \"Wells St & Walton St\"                                 \n[154] \"Ashland Ave & Wrightwood Ave\"                         \n[155] \"Orleans St & Chestnut St (NEXT Apts)\"                 \n[156] \"Clark St & Jarvis Ave\"                                \n[157] \"Larrabee St & Menomonee St\"                           \n[158] \"Broadway & Waveland Ave\"                              \n[159] \"Clark St & Elmdale Ave\"                               \n[160] \"Racine Ave & Washington Blvd\"                         \n[161] \"Ellis Ave & 58th St\"                                  \n[162] \"Racine Ave & Fullerton Ave\"                           \n[163] \"Drake Ave & Fullerton Ave\"                            \n[164] \"Indiana Ave & 31st St\"                                \n[165] \"Broadway & Berwyn Ave\"                                \n[166] \"Kingsbury St & Erie St\"                               \n[167] \"Dearborn St & Van Buren St\"                           \n[168] \"Clark St & Newport St\"                                \n[169] \"Ogden Ave & Race Ave\"                                 \n[170] \"Clinton St & Roosevelt Rd\"                            \n[171] \"Sheridan Rd & Lawrence Ave\"                           \n[172] \"Larrabee St & Webster Ave\"                            \n[173] \"Green St & Randolph St\"                               \n[174] \"Leavitt St & Belmont Ave\"                             \n[175] \"Kosciuszko Park\"                                      \n[176] \"Michigan Ave & Jackson Blvd\"                          \n[177] \"Montrose Harbor\"                                      \n[178] \"Lincoln Ave & Winona St\"                              \n[179] \"Aberdeen St & Randolph St\"                            \n[180] \"Clark St & Berwyn Ave\"                                \n[181] \"Ada St & Washington Blvd\"                             \n[182] \"Clark St & Elm St\"                                    \n[183] \"Ashland Ave & Division St\"                            \n[184] \"Ashland Ave & Grand Ave\"                              \n[185] \"Federal St & Polk St\"                                 \n[186] \"Lake Shore Dr & Belmont Ave\"                          \n[187] \"W Armitage Ave & N Sheffield Ave\"                     \n[188] \"Burling St (Halsted) & Diversey Pkwy (Temp)\"          \n[189] \"Lincoln Ave & Diversey Pkwy\"                          \n[190] \"Winchester Ave & Elston Ave\"                          \n[191] \"Field Blvd & South Water St\"                          \n[192] \"Stetson Ave & South Water St\"                         \n[193] \"Cityfront Plaza Dr & Pioneer Ct\"                      \n[194] \"Wabash Ave & Wacker Pl\"                               \n[195] \"Carpenter St & Huron St\"                              \n[196] \"Kimbark Ave & 53rd St\"                                \n[197] \"Larrabee St & North Ave\"                              \n[198] \"Larrabee St & Division St\"                            \n[199] \"Fairfield Ave & Roosevelt Rd\"                         \n[200] \"Sheridan Rd & Noyes St (NU)\"                          \n[201] \"Chicago Ave & Dempster St\"                            \n[202] \"Hermitage Ave & Polk St\"                              \n[203] \"Central Park Ave & Elbridge Ave\"                      \n[204] \"State St & 33rd St\"                                   \n[205] \"Greenwood Ave & 47th St\"                              \n[206] \"Chicago Ave & Washington St\"                          \n[207] \"Broadway & Ridge Ave\"                                 \n[208] \"Sheffield Ave & Kingsbury St\"                         \n[209] \"Pine Grove Ave & Irving Park Rd\"                      \n[210] \"California Ave & Montrose Ave\"                        \n[211] \"Sheridan Rd & Montrose Ave\"                           \n[212] \"Clark St & Randolph St\"                               \n[213] \"Calumet Ave & 18th St\"                                \n[214] \"Spaulding Ave & Armitage Ave\"                         \n[215] \"Damen Ave & Cortland St\"                              \n[216] \"Wells St & Elm St\"                                    \n[217] \"Winthrop Ave & Lawrence Ave\"                          \n[218] \"Clark St & Lincoln Ave\"                               \n[219] \"Western Ave & Division St\"                            \n[220] \"Millennium Park\"                                      \n[221] \"Sheridan Rd & Irving Park Rd\"                         \n[222] \"Milwaukee Ave & Wabansia Ave\"                         \n[223] \"Greenview Ave & Diversey Pkwy\"                        \n[224] \"Rush St & Superior St\"                                \n[225] \"Desplaines St & Randolph St\"                          \n[226] \"Pine Grove Ave & Waveland Ave\"                        \n[227] \"Emerald Ave & 31st St\"                                \n[228] \"Cannon Dr & Fullerton Ave\"                            \n[229] \"Michigan Ave & Ida B Wells Dr\"                        \n[230] \"Halsted St & 47th Pl\"                                 \n[231] \"LaSalle St & Washington St\"                           \n[232] \"Halsted St & 18th St\"                                 \n[233] \"Southport Ave & Roscoe St\"                            \n[234] \"Ogden Ave & Chicago Ave\"                              \n[235] \"Jefferson St & Monroe St\"                             \n[236] \"Walsh Park\"                                           \n[237] \"California Ave & Francis Pl (Temp)\"                   \n[238] \"Michigan Ave & Oak St\"                                \n[239] \"Sheridan Rd & Columbia Ave\"                           \n[240] \"Burnham Harbor\"                                       \n[241] \"Cottage Grove Ave & Oakwood Blvd\"                     \n[242] \"Western Ave & Leland Ave\"                             \n[243] \"Clark St & Drummond Pl\"                               \n[244] \"Theater on the Lake\"                                  \n[245] \"McCormick Place\"                                      \n[246] \"Lincoln Ave & Waveland Ave\"                           \n[247] \"Monticello Ave & Irving Park Rd\"                      \n[248] \"California Ave & Byron St\"                            \n[249] \"Glenwood Ave & Morse Ave\"                             \n[250] \"Lincoln Ave & Fullerton Ave\"                          \n[251] \"State St & 19th St\"                                   \n[252] \"Damen Ave & Leland Ave\"                               \n[253] \"Albany Ave & Montrose Ave\"                            \n[254] \"Wilton Ave & Belmont Ave\"                             \n[255] \"State St & Pearson St\"                                \n[256] \"Field Museum\"                                         \n[257] \"Wacker Dr & Washington St\"                            \n[258] \"Kedzie Ave & Palmer Ct\"                               \n[259] \"Sheffield Ave & Waveland Ave\"                         \n[260] \"Washtenaw Ave & Lawrence Ave\"                         \n[261] \"Broadway & Belmont Ave\"                               \n[262] \"Sheffield Ave & Wellington Ave\"                       \n[263] \"Halsted St & Willow St\"                               \n[264] \"Dauphin Ave & 103rd St\"                               \n[265] \"Throop (Loomis) St & Taylor St\"                       \n[266] \"Western Ave & Lunt Ave\"                               \n[267] \"Broadway & Barry Ave\"                                 \n[268] \"Damen Ave & Grand Ave\"                                \n[269] \"Ashland Ave & 63rd St\"                                \n[270] \"Avers Ave & Belmont Ave\"                              \n[271] \"California Ave & North Ave\"                           \n[272] \"Damen Ave & Thomas St (Augusta Blvd)\"                 \n[273] \"Clifton Ave & Armitage Ave\"                           \n[274] \"Morgan Ave & 14th Pl\"                                 \n[275] \"Constance Ave & 95th St\"                              \n[276] \"Southport Ave & Clybourn Ave\"                         \n[277] \"Greenview Ave & Fullerton Ave\"                        \n[278] \"Ravenswood Ave & Lawrence Ave\"                        \n[279] \"Bernard St & Elston Ave\"                              \n[280] \"Franklin St & Jackson Blvd\"                           \n[281] \"Sheffield Ave & Webster Ave\"                          \n[282] \"South Shore Dr & 67th St\"                             \n[283] \"Vernon Ave & 75th St\"                                 \n[284] \"Ashland Ave & Grace St\"                               \n[285] \"Kedzie Ave & Foster Ave\"                              \n[286] \"State St & Randolph St\"                               \n[287] \"Harper Ave & 59th St\"                                 \n[288] \"Damen Ave & Clybourn Ave\"                             \n[289] \"Sheridan Rd & Greenleaf Ave\"                          \n[290] \"Lincoln Ave & Roscoe St\"                              \n[291] \"State St & Harrison St\"                               \n[292] \"Dusable Harbor\"                                       \n[293] \"Cottage Grove Ave & 43rd St\"                          \n[294] \"Broadway & Wilson Ave\"                                \n[295] \"Christiana Ave & Lawrence Ave\"                        \n[296] \"Clark St & Leland Ave\"                                \n[297] \"Daley Center Plaza\"                                   \n[298] \"St. Clair St & Erie St\"                               \n[299] \"Union Ave & Root St\"                                  \n[300] \"State St & 29th St\"                                   \n[301] \"Paulina St & Montrose Ave\"                            \n[302] \"Halsted St & Roscoe St\"                               \n[303] \"Clark St & Wellington Ave\"                            \n[304] \"Broadway & Argyle St\"                                 \n[305] \"Michigan Ave & Pearson St\"                            \n[306] \"Southport Ave & Belmont Ave\"                          \n[307] \"Blue Island Ave & 18th St\"                            \n[308] \"Franklin St & Chicago Ave\"                            \n[309] \"Southport Ave & Irving Park Rd\"                       \n[310] \"Leavitt St & Armitage Ave\"                            \n[311] \"Clark St & 9th St (AMLI)\"                             \n[312] \"Wentworth Ave & 24th St (Temp)\"                       \n[313] \"Orleans St & Elm St\"                                  \n[314] \"Dodge Ave & Church St\"                                \n[315] \"Budlong Woods Library\"                                \n[316] \"Wabash Ave & Adams St\"                                \n[317] \"Halsted St & 35th St\"                                 \n[318] \"Stockton Dr & Wrightwood Ave\"                         \n[319] \"Artesian Ave & Hubbard St\"                            \n[320] \"Racine Ave & 13th St\"                                 \n[321] \"State St & 123rd St\"                                  \n[322] \"Talman Ave & Addison St\"                              \n[323] \"Albany Ave & 26th St\"                                 \n[324] \"Damen Ave & Cullerton St\"                             \n[325] \"Eberhart Ave & 131st St\"                              \n[326] \"Clark St & Wrightwood Ave\"                            \n[327] \"Bennett Ave & 79th St\"                                \n[328] \"Dorchester Ave & 63rd St\"                             \n[329] \"State St & 35th St\"                                   \n[330] \"Leavitt St & North Ave\"                               \n[331] \"Damen Ave & Charleston St\"                            \n[332] \"Wolcott (Ravenswood) Ave & Montrose Ave\"              \n[333] \"Western Ave & Congress Pkwy\"                          \n[334] \"Racine Ave & Randolph St\"                             \n[335] \"Lincoln Ave & Belmont Ave\"                            \n[336] \"Rush St & Hubbard St\"                                 \n[337] \"Drake Ave & Montrose Ave\"                             \n[338] \"Damen Ave & Sunnyside Ave\"                            \n[339] \"Big Marsh Park\"                                       \n[340] \"Sedgwick St & North Ave\"                              \n[341] \"Wallace St & 35th St\"                                 \n[342] \"Leavitt St & Archer Ave\"                              \n[343] \"Marine Dr & Ainslie St\"                               \n[344] \"Halsted St & 37th St\"                                 \n[345] \"Central Park Ave & Ogden Ave\"                         \n[346] \"Clinton St & Tilden St\"                               \n[347] \"Warren Park West\"                                     \n[348] \"Lake Park Ave & 47th St\"                              \n[349] \"Clark St & Chicago Ave\"                               \n[350] \"Avondale Ave & Irving Park Rd\"                        \n[351] \"Wabash Ave & 16th St\"                                 \n[352] \"Western Ave & Fillmore St\"                            \n[353] \"Kilbourn Ave & Milwaukee Ave\"                         \n[354] \"Wood St & Hubbard St\"                                 \n[355] \"California Ave & Division St\"                         \n[356] \"Cornell Ave & Hyde Park Blvd\"                         \n[357] \"Ellis Ave & 55th St\"                                  \n[358] \"California Ave & Altgeld St\"                          \n[359] \"Benson Ave & Church St\"                               \n[360] \"May St & Taylor St\"                                   \n[361] \"Delano Ct & Roosevelt Rd\"                             \n[362] \"Morgan St & 18th St\"                                  \n[363] \"Wolcott Ave & Polk St\"                                \n[364] \"Jeffery Blvd & 71st St\"                               \n[365] \"Sedgwick St & Webster Ave\"                            \n[366] \"Lakefront Trail & Wilson Ave\"                         \n[367] \"Canal St & Jackson Blvd\"                              \n[368] \"Glenwood Ave & Touhy Ave\"                             \n[369] \"2112 W Peterson Ave\"                                  \n[370] \"Loomis St & Archer Ave\"                               \n[371] \"Phillips Ave & 79th St\"                               \n[372] \"Pulaski Rd & Lake St\"                                 \n[373] \"Clarendon Ave & Gordon Ter\"                           \n[374] \"Central Ave & Chicago Ave\"                            \n[375] \"LaSalle St & Adams St\"                                \n[376] \"Rhodes Ave & 32nd St\"                                 \n[377] \"Western Ave & Roscoe St\"                              \n[378] \"Knox Ave & Montrose Ave\"                              \n[379] \"LaSalle St & Jackson Blvd\"                            \n[380] \"Dearborn St & Adams St\"                               \n[381] \"Broadway & Sheridan Rd\"                               \n[382] \"Calumet Ave & 21st St\"                                \n[383] \"Marshfield Ave & Cortland St\"                         \n[384] \"Wells St & 19th St\"                                   \n[385] \"Clark St & Lunt Ave\"                                  \n[386] \"Western Ave & Monroe St\"                              \n[387] \"Milwaukee Ave & Rockwell St\"                          \n[388] \"Stony Island Ave & 90th St\"                           \n[389] \"Cottage Grove Ave & 111th Pl\"                         \n[390] \"Campbell Ave & North Ave\"                             \n[391] \"Pulaski Rd & Congress Pkwy\"                           \n[392] \"Elizabeth (May) St & Fulton St\"                       \n[393] \"Halsted St & Archer Ave\"                              \n[394] \"Eckhart Park\"                                         \n[395] \"Dauphin Ave & 87th St\"                                \n[396] \"Prairie Ave & 43rd St\"                                \n[397] \"Woodlawn Ave & 55th St\"                               \n[398] \"Western Ave & Walton St\"                              \n[399] \"Leavitt St & Lawrence Ave\"                            \n[400] \"Racine Ave & 35th St\"                                 \n[401] \"Wabash Ave & Cermak Rd\"                               \n[402] \"California Ave & 23rd Pl\"                             \n[403] \"Stave St & Armitage Ave\"                              \n[404] \"Sheffield Ave & Fullerton Ave\"                        \n[405] \"California Ave & Fletcher St\"                         \n[406] \"Laflin St & Cullerton St\"                             \n[407] \"Shields Ave & 28th Pl\"                                \n[408] \"Racine Ave & Congress Pkwy\"                           \n[409] \"Princeton Ave & Garfield Blvd\"                        \n[410] \"State St & Van Buren St\"                              \n[411] \"Clinton St & Washington Blvd\"                         \n[412] \"Damen Ave & Coulter St\"                               \n[413] \"Wood St & Augusta Blvd\"                               \n[414] \"Fairbanks St & Superior St\"                           \n[415] \"Pulaski Rd & Eddy St (Temp)\"                          \n[416] \"Clark St & Montrose Ave\"                              \n[417] \"Loomis St & Jackson Blvd\"                             \n[418] \"Western Ave & 24th St\"                                \n[419] \"Canal St & Madison St\"                                \n[420] \"Damen Ave & Pershing Rd\"                              \n[421] \"California Ave & Lake St\"                             \n[422] \"Jeffery Blvd & 67th St\"                               \n[423] \"Ravenswood Ave & Irving Park Rd\"                      \n[424] \"Spaulding Ave & Division St\"                          \n[425] \"South Shore Dr & 71st St\"                             \n[426] \"Morgan St & Polk St\"                                  \n[427] \"Lincoln Ave & Belle Plaine Ave\"                       \n[428] \"Leavitt St & Chicago Ave\"                             \n[429] \"State St & 95th St\"                                   \n[430] \"Elmwood Ave & Austin St\"                              \n[431] \"Oglesby Ave & 100th St\"                               \n[432] \"Dodge Ave & Mulford St\"                               \n[433] \"St. Louis Ave & Balmoral Ave\"                         \n[434] \"Ellis Ave & 53rd St\"                                  \n[435] \"Halsted St & 111th St\"                                \n[436] \"Lake Park Ave & 56th St\"                              \n[437] \"MLK Jr Dr & 56th St\"                                  \n[438] \"Halsted St & North Branch St\"                         \n[439] \"Major Taylor Trail & 115th St\"                        \n[440] \"Racine Ave & Wrightwood Ave\"                          \n[441] \"Calumet Ave & 51st St\"                                \n[442] \"Wood St & Taylor St\"                                  \n[443] \"Racine Ave & 15th St\"                                 \n[444] \"900 W Harrison St\"                                    \n[445] \"Bosworth Ave & Howard St\"                             \n[446] \"Ashland Ave & Augusta Blvd\"                           \n[447] \"Aberdeen St & Monroe St\"                              \n[448] \"Western Ave & Granville Ave\"                          \n[449] \"Greenwood Ave & 91st St\"                              \n[450] \"Damen Ave & Foster Ave\"                               \n[451] \"Michigan Ave & 71st St\"                               \n[452] \"Prairie Ave & Garfield Blvd\"                          \n[453] \"Stony Island Ave & 71st St\"                           \n[454] \"Southport Ave & Clark St\"                             \n[455] \"Damen Ave & 51st St\"                                  \n[456] \"Canal St & Monroe St\"                                 \n[457] \"Smith Park\"                                           \n[458] \"Manor Ave & Leland Ave\"                               \n[459] \"MLK Jr Dr & Pershing Rd\"                              \n[460] \"Canal St & Taylor St\"                                 \n[461] \"Ridge Blvd & Touhy Ave\"                               \n[462] \"California Ave & Cortez St\"                           \n[463] \"Central St & Girard Ave\"                              \n[464] \"Central Park Ave & Bloomingdale Ave\"                  \n[465] \"Jeffery Blvd & 91st St\"                               \n[466] \"Ashland Ave & 13th St\"                                \n[467] \"Baltimore Ave & 87th St\"                              \n[468] \"WATSON TESTING - DIVVY\"                               \n[469] \"Halsted St & 96th St\"                                 \n[470] \"Clark St & Columbia Ave\"                              \n[471] \"Blackstone Ave & Hyde Park Blvd\"                      \n[472] \"Damen Ave & Walnut (Lake) St\"                         \n[473] \"Calumet Ave & 33rd St\"                                \n[474] \"Kildare Ave & Montrose Ave\"                           \n[475] \"Paulina St & Flournoy St\"                             \n[476] \"Kimball Ave & Belmont Ave\"                            \n[477] \"Cottage Grove Ave & 51st St\"                          \n[478] \"Campbell Ave & Montrose Ave\"                          \n[479] \"Wood St & Taylor St (Temp)\"                           \n[480] \"Paulina St & 18th St\"                                 \n[481] \"Troy St & Elston Ave\"                                 \n[482] \"Halsted St & 104th St\"                                \n[483] \"Evanston Civic Center\"                                \n[484] \"Shields Ave & 43rd St\"                                \n[485] \"Indiana Ave & 103rd St\"                               \n[486] \"Kedzie Ave & Lake St\"                                 \n[487] \"Kedzie Ave & Chicago Ave\"                             \n[488] \"Halsted St & Maxwell St\"                              \n[489] \"Kostner Ave & Lake St\"                                \n[490] \"Keystone Ave & Montrose Ave\"                          \n[491] \"California Ave & 21st St\"                             \n[492] \"Morgan St & 31st St\"                                  \n[493] \"Keystone Ave & Fullerton Ave\"                         \n[494] \"Kedzie Ave & Bryn Mawr Ave\"                           \n[495] \"Kedzie Ave & 24th St\"                                 \n[496] \"Elizabeth St & 47th St\"                               \n[497] \"MLK Jr Dr & 47th St\"                                  \n[498] \"Austin Blvd & Chicago Ave\"                            \n[499] \"Throop St & Taylor St\"                                \n[500] \"Ashland Ave & Lake St\"                                \n[501] \"Ravenswood Ave & Berteau Ave\"                         \n[502] \"Cherry Ave & Blackhawk St\"                            \n[503] \"Clark St & Ida B Wells Dr\"                            \n[504] \"Lincoln Ave & Addison St\"                             \n[505] \"Western Ave & Howard St\"                              \n[506] \"Claremont Ave & Hirsch St\"                            \n[507] \"Canal St & Harrison St\"                               \n[508] \"Hoyne Ave & 47th St\"                                  \n[509] \"MLK Jr Dr & 83rd St\"                                  \n[510] \"Ashland Ave & 69th St\"                                \n[511] \"Ashland Ave & Archer Ave\"                             \n[512] \"Rockwell St & Eastwood Ave\"                           \n[513] \"Leavitt St & Division St\"                             \n[514] \"Laramie Ave & Madison St\"                             \n[515] \"Hoyne Ave & Balmoral Ave\"                             \n[516] \"Racine Ave & Garfield Blvd\"                           \n[517] \"Woodlawn Ave & 75th St\"                               \n[518] \"State St & Pershing Rd\"                               \n[519] \"Western Ave & 21st St\"                                \n[520] \"Central Ave & Lake St\"                                \n[521] \"University Library (NU)\"                              \n[522] \"Woodlawn Ave & Lake Park Ave\"                         \n[523] \"Troy St & North Ave\"                                  \n[524] \"DuSable Museum\"                                       \n[525] \"Ogden Ave & Roosevelt Rd\"                             \n[526] \"Elizabeth St & 92nd St\"                               \n[527] \"Sangamon St & Washington Blvd\"                        \n[528] \"Clinton St & 18th St\"                                 \n[529] \"Stewart Ave & 63rd St\"                                \n[530] \"Kedzie Ave & Leland Ave\"                              \n[531] \"Millard Ave & 26th St\"                                \n[532] \"Wentworth Ave & 63rd St\"                              \n[533] \"Prospect Sq & 91st St\"                                \n[534] \"Latrobe Ave & Chicago Ave\"                            \n[535] \"Valli Produce - Evanston Plaza\"                       \n[536] \"Kedzie Ave & Harrison St\"                             \n[537] \"Wentworth Ave & 35th St\"                              \n[538] \"Central Park Ave & North Ave\"                         \n[539] \"Ashland Ave & Pershing Rd\"                            \n[540] \"Central Park Blvd & 5th Ave\"                          \n[541] \"Conservatory Dr & Lake St\"                            \n[542] \"Austin Blvd & Madison St\"                             \n[543] \"Halsted St & 21st St\"                                 \n[544] \"Stony Island Ave & 64th St\"                           \n[545] \"Ogden Ave & Congress Pkwy\"                            \n[546] \"Kilbourn Ave & Irving Park Rd\"                        \n[547] \"Oakley Ave & Irving Park Rd\"                          \n[548] \"Cottage Grove Ave & 47th St\"                          \n[549] \"Central St Metra\"                                     \n[550] \"Lincolnwood Dr & Central St\"                          \n[551] \"South Shore Dr & 74th St\"                             \n[552] \"Clinton St & Polk St\"                                 \n[553] \"Indiana Ave & 40th St\"                                \n[554] \"Wolcott Ave & Fargo Ave\"                              \n[555] \"Vincennes Ave & 75th St\"                              \n[556] \"Warren Park East\"                                     \n[557] \"Washtenaw Ave & Ogden Ave\"                            \n[558] \"Wentworth Ave & 33rd St\"                              \n[559] \"Western Blvd & 48th Pl\"                               \n[560] \"Cottage Grove Ave & 67th St\"                          \n[561] \"Winchester (Ravenswood) Ave & Balmoral Ave\"           \n[562] \"Emerald Ave & 28th St\"                                \n[563] \"Greenwood Ave & 97th St\"                              \n[564] \"Vernon Ave & 107th St\"                                \n[565] \"Ashland Ave & 78th St\"                                \n[566] \"Wood St & 35th St\"                                    \n[567] \"Halsted St & Roosevelt Rd\"                            \n[568] \"Greenwood Ave & 79th St\"                              \n[569] \"Shields Ave & 31st St\"                                \n[570] \"East End Ave & 87th St\"                               \n[571] \"Calumet Ave & 35th St\"                                \n[572] \"Drake Ave & Addison St\"                               \n[573] \"Wabash Ave & 87th St\"                                 \n[574] \"Stony Island Ave & 82nd St\"                           \n[575] \"State St & 54th St\"                                   \n[576] \"Cottage Grove Ave & 78th St\"                          \n[577] \"Oakley Ave & Touhy Ave\"                               \n[578] \"Marshfield Ave & 44th St\"                             \n[579] \"Racine Ave & 61st St\"                                 \n[580] \"Avenue O & 134th St\"                                  \n[581] \"Malcolm X College\"                                    \n[582] \"Cornell Dr & Hayes Dr\"                                \n[583] \"Cicero Ave & Lake St\"                                 \n[584] \"Ashland Ave & McDowell Ave\"                           \n[585] \"Torrence Ave & 106th St\"                              \n[586] \"Eggleston Ave & 92nd St\"                              \n[587] \"Calumet Ave & 71st St\"                                \n[588] \"Normal Ave & Archer Ave\"                              \n[589] \"Karlov Ave & Madison St\"                              \n[590] \"State St & 79th St\"                                   \n[591] \"Ashland Ave & 50th St\"                                \n[592] \"Maplewood Ave & Peterson Ave\"                         \n[593] \"Clark St & Touhy Ave\"                                 \n[594] \"Yates Blvd & 75th St\"                                 \n[595] \"Stewart Ave & 83rd St\"                                \n[596] \"Marquette Ave & 89th St\"                              \n[597] \"Central Park Ave & 24th St\"                           \n[598] \"Evans Ave & 75th St\"                                  \n[599] \"Sacramento Blvd & Franklin Blvd\"                      \n[600] \"Halsted St & 63rd St\"                                 \n[601] \"63rd St Beach\"                                        \n[602] \"Kostner Ave & Adams St\"                               \n[603] \"Ashland Ave & 66th St\"                                \n[604] \"State St & 76th St\"                                   \n[605] \"Summit Ave & 86th St\"                                 \n[606] \"Stony Island Ave & 67th St\"                           \n[607] \"Vernon Ave & 79th St\"                                 \n[608] \"Laramie Ave & Kinzie St\"                              \n[609] \"Central Ave & Madison St\"                             \n[610] \"Stony Island Ave & South Chicago Ave\"                 \n[611] \"Cottage Grove Ave & 63rd St\"                          \n[612] \"Halsted St & 69th St\"                                 \n[613] \"Kedzie Ave & 21st St\"                                 \n[614] \"Halsted St & 78th St\"                                 \n[615] \"Houston Ave & 92nd St\"                                \n[616] \"Michigan Ave & 114th St\"                              \n[617] \"Eberhart Ave & 91st St\"                               \n[618] \"Rainbow Beach\"                                        \n[619] \"Throop St & 52nd St\"                                  \n[620] \"MLK Jr Dr & 63rd St\"                                  \n[621] \"Stony Island Ave & 75th St\"                           \n[622] \"Exchange Ave & 79th St\"                               \n[623] \"Marshfield Ave & 59th St\"                             \n[624] \"Princeton Ave & 47th St\"                              \n[625] \"Perry Ave & 69th St\"                                  \n[626] \"Racine Ave & 65th St\"                                 \n[627] \"Morgan St & Pershing Rd\"                              \n[628] \"Commercial Ave & 83rd St\"                             \n[629] \"Halsted St & 51st St\"                                 \n[630] \"Ewing Ave & Burnham Greenway\"                         \n[631] \"Phillips Ave & 83rd St\"                               \n[632] \"Clyde Ave & 87th St\"                                  \n[633] \"May St & 69th St\"                                     \n[634] \"Damen Ave & 59th St\"                                  \n[635] \"Halsted St & 56th St\"                                 \n[636] \"Ashland Ave & Garfield Blvd\"                          \n[637] \"Western Ave & 28th St\"                                \n[638] \"Jeffery Blvd & 76th St\"                               \n[639] \"Loomis Blvd & 84th St\"                                \n[640] \"Central Ave & Harrison St\"                            \n[641] \"Cicero Ave & Flournoy St\"                             \n[642] \"Halsted St & 73rd St\"                                 \n[643] \"Cicero Ave & Quincy St\"                               \n[644] \"Laramie Ave & Gladys Ave\"                             \n[645] \"Ellis Ave & 83rd St\"                                  \n[646] \"Kenton Ave & Madison St\"                              \n[647] \"California Ave & 26th St\"                             \n[648] \"South Chicago Ave & Elliot Ave\"                       \n[649] \"Halsted St & 59th St\"                                 \n[650] \"Wabash Ave & 83rd St\"                                 \n[651] \"Ashland Ave & 74th St\"                                \n[652] \"Torrence Ave & 126th Pl\"                              \n[653] \"Seeley Ave & Garfield Blvd\"                           \n[654] \"Eggleston Ave & 69th St\"                              \n[655] \"Rhodes Ave & 71st St\"                                 \n[656] \"Carpenter St & 63rd St\"                               \n[657] \"Cottage Grove Ave & 71st St\"                          \n[658] \"South Chicago Ave & 83rd St\"                          \n[659] \"HUBBARD ST BIKE CHECKING (LBS-WH-TEST)\"               \n[660] \"Walden Pkwy & 100th St\"                               \n[661] \"Burnham Greenway & 105th St\"                          \n[662] \"Elizabeth St & 59th St\"                               \n[663] \"Major Taylor Trail & 124th St\"                        \n[664] \"Avenue O & 118th St\"                                  \n[665] \"N Clark St & W Elm St\"                                \n[666] \"St. Louis Ave & Fullerton Ave\"                        \n[667] \"New St & Illinois St\"                                 \n[668] \"Hale Ave & 107th St\"                                  \n[669] \"Bradley Park\"                                         \n[670] \"Commercial Ave & 130th St\"                            \n[671] \"Vincennes Ave & 104th St\"                             \n[672] \"Western Ave & 111th St\"                               \n[673] \"Ada St & 113th St\"                                    \n[674] \"Lawndale Ave & 111th St\"                              \n[675] \"Homewood Ave & 115th St\"                              \n[676] \"Western Ave & 104th St\"                               \n[677] \"Hegewisch Metra Station\"                              \n[678] \"S Michigan Ave & E 118th St\"                          \n[679] \"Dodge Ave & Main St\"                                  \n[680] \"Base - 2132 W Hubbard Warehouse\"                      \n[681] \"N Green St & W Lake St\"                               \n[682] \"Commercial Ave & 100th St\"                            \n[683] \"N Paulina St & Lincoln Ave\"                           \n[684] \"N Southport Ave & W Newport Ave\"                      \n[685] \"Malcolm X College Vaccination Site\"                   \n[686] \"Broadway & Wilson - Truman College Vaccination Site\"  \n[687] \"W Washington Blvd & N Peoria St\"                      \n[688] \"Kedzie Ave & 110th St\"                                \n[689] \"N Sheffield Ave & W Wellington Ave\"                   \n[690] \"N Carpenter St & W Lake St\"                           \n[691] \"Halsted & 63rd - Kennedy-King Vaccination Site\"       \n[692] \"Western & 28th - Velasquez Institute Vaccination Site\"\n[693] \"Chicago State University\"                             \n[694] \"Damen Ave & Wabansia Ave\"                             \n[695] \"N Damen Ave & W Wabansia St\"                          \n[696] \"S Wentworth Ave & W 111th St\"                         \n[697] \"N Hampden Ct & W Diversey Ave\"                        \n[698] \"Altgeld Gardens\"                                      \n[699] \"Hampden Ct & Diversey Ave\"                            \n[700] \"Kedzie Ave & 104th St\"                                \n[701] \"Avenue L & 114th St\"                                  \n[702] \"Calumet Park\"                                         \n[703] \"Elston Ave & Cortland St\"                             \n[704] \"Loomis St & 89th St\"                                  \n[705] \"Woodlawn & 103rd - Olive Harvey Vaccination Site\"     \n[706] \"W 103rd St & S Avers Ave\"                             \n[707] \"WEST CHI-WATSON\"                                      \n[708] \"Yates Blvd & 93rd St\"                                 \n[709] \"Maryland Ave & 104th St\"                              \n[710] \"S Aberdeen St & W 106th St\"                           \n[711] \"Lyft Driver Center Private Rack\"                      \n[712] \"Cicero Ave & Grace St\"                                \n[713] \"DuSable Lake Shore Dr & Belmont Ave\"                  \n[714] \"DuSable Lake Shore Dr & Monroe St\"                    \n[715] \"DuSable Lake Shore Dr & North Blvd\"                   \n[716] \"DuSable Lake Shore Dr & Ohio St\"                      \n[717] \"DuSable Lake Shore Dr & Wellington Ave\"               \n[718] \"DuSable Lake Shore Dr & Diversey Pkwy\"                \n[719] \"Kildare Ave & 26th St\"                                \n[720] \"Tripp Ave & 31st St\"                                  \n[721] \"Halsted St & 18th St (Temp)\"                          \n[722] \"Lawndale Ave & 16th St\"                               \n[723] \"Spaulding Ave & 16th St\"                              \n[724] \"Homan Ave & Fillmore St\"                              \n[725] \"Lavergne & Fullerton\"                                 \n[726] \"DIVVY CASSETTE REPAIR MOBILE STATION\"                 \n[727] \"Kilpatrick Ave & Parker Ave\"                          \n[728] \"Central Park Ave & Douglas Blvd\"                      \n[729] \"Lamon Ave & Belmont Ave\"                              \n[730] \"Long Ave & Belmont Ave\"                               \n[731] \"Meade Ave & Diversey Ave\"                             \n[732] \"Long Ave & Belden Ave\"                                \n[733] \"Tripp Ave & 15th St\"                                  \n[734] \"Mason Ave & Belmont Ave\"                              \n[735] \"Parkside Ave & Armitage Ave\"                          \n[736] \"Keeler Ave & Roosevelt Rd\"                            \n[737] \"Pulaski Rd & 21st St\"                                 \n[738] \"Central Ave & Parker Ave\"                             \n[739] \"Lawndale Ave & 30th St\"                               \n[740] \"Meade Ave & Addison St\"                               \n[741] \"Kilbourn & Roscoe\"                                    \n[742] \"Mulligan Ave & Wellington Ave\"                        \n[743] \"Lockwood Ave & Wrightwood Ave\"                        \n[744] \"Plainfield & Irving Park\"                             \n[745] \"Narragansett Ave & School St\"                         \n[746] \"Central Ave & Roscoe St\"                              \n[747] \"351\"                                                  \n[748] \"Long & Irving Park\"                                   \n[749] \"Komensky Ave & 31st St\"                               \n[750] \"Kilbourn & Belden\"                                    \n[751] \"Kostner Ave & Wrightwood Ave\"                         \n[752] \"North Ave & New England Ave\"                          \n[753] \"Harding Ave & 26th St\"                                \n[754] \"Harlem Ave & Grace St\"                                \n[755] \"Oketo Ave & Addison St\"                               \n[756] \"Roscoe & Harlem\"                                      \n[757] \"Lamon Ave & Armitage Ave\"                             \n[758] \"Sayre & Diversey\"                                     \n```\n:::\n:::\n\n\n</details>\n\nCreating a vector of station names identified as Divvy test and repair stations.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrs_name <- c(\"Base – 2132 W Hubbard Warehouse\",\n         \"DIVVY CASSETTE REPAIR MOBILE STATION\",\n         \"HUBBARD ST BIKE CHECKING (LBS-WH-TEST)\",\n         \"WATSON TESTING - DIVVY\",\n         \"WEST CHI-WATSON\")\n```\n:::\n\n\nLooking for specific values in the `start_station_id` column associated with Divvy test and repair stations.\n\n<details>\n\n<summary>Show code and output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(all_trips_v2$start_station_id)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   [1] \"52\"                                  \n   [2] NA                                    \n   [3] \"246\"                                 \n   [4] \"24\"                                  \n   [5] \"94\"                                  \n   [6] \"291\"                                 \n   [7] \"273\"                                 \n   [8] \"145\"                                 \n   [9] \"108\"                                 \n  [10] \"511\"                                 \n  [11] \"329\"                                 \n  [12] \"315\"                                 \n  [13] \"138\"                                 \n  [14] \"504\"                                 \n  [15] \"38\"                                  \n  [16] \"485\"                                 \n  [17] \"89\"                                  \n  [18] \"53\"                                  \n  [19] \"3\"                                   \n  [20] \"35\"                                  \n  [21] \"113\"                                 \n  [22] \"164\"                                 \n  [23] \"111\"                                 \n  [24] \"140\"                                 \n  [25] \"225\"                                 \n  [26] \"301\"                                 \n  [27] \"43\"                                  \n  [28] \"21\"                                  \n  [29] \"13\"                                  \n  [30] \"212\"                                 \n  [31] \"645\"                                 \n  [32] \"287\"                                 \n  [33] \"49\"                                  \n  [34] \"71\"                                  \n  [35] \"454\"                                 \n  [36] \"195\"                                 \n  [37] \"123\"                                 \n  [38] \"589\"                                 \n  [39] \"289\"                                 \n  [40] \"250\"                                 \n  [41] \"306\"                                 \n  [42] \"585\"                                 \n  [43] \"627\"                                 \n  [44] \"168\"                                 \n  [45] \"130\"                                 \n  [46] \"424\"                                 \n  [47] \"175\"                                 \n  [48] \"126\"                                 \n  [49] \"84\"                                  \n  [50] \"712\"                                 \n  [51] \"172\"                                 \n  [52] \"673\"                                 \n  [53] \"157\"                                 \n  [54] \"110\"                                 \n  [55] \"341\"                                 \n  [56] \"492\"                                 \n  [57] \"215\"                                 \n  [58] \"93\"                                  \n  [59] \"26\"                                  \n  [60] \"255\"                                 \n  [61] \"636\"                                 \n  [62] \"308\"                                 \n  [63] \"165\"                                 \n  [64] \"199\"                                 \n  [65] \"453\"                                 \n  [66] \"16\"                                  \n  [67] \"227\"                                 \n  [68] \"120\"                                 \n  [69] \"2\"                                   \n  [70] \"150\"                                 \n  [71] \"471\"                                 \n  [72] \"451\"                                 \n  [73] \"77\"                                  \n  [74] \"331\"                                 \n  [75] \"349\"                                 \n  [76] \"134\"                                 \n  [77] \"426\"                                 \n  [78] \"197\"                                 \n  [79] \"459\"                                 \n  [80] \"268\"                                 \n  [81] \"460\"                                 \n  [82] \"423\"                                 \n  [83] \"333\"                                 \n  [84] \"288\"                                 \n  [85] \"69\"                                  \n  [86] \"228\"                                 \n  [87] \"226\"                                 \n  [88] \"672\"                                 \n  [89] \"458\"                                 \n  [90] \"350\"                                 \n  [91] \"17\"                                  \n  [92] \"190\"                                 \n  [93] \"325\"                                 \n  [94] \"523\"                                 \n  [95] \"245\"                                 \n  [96] \"76\"                                  \n  [97] \"260\"                                 \n  [98] \"623\"                                 \n  [99] \"638\"                                 \n [100] \"243\"                                 \n [101] \"419\"                                 \n [102] \"56\"                                  \n [103] \"406\"                                 \n [104] \"133\"                                 \n [105] \"60\"                                  \n [106] \"313\"                                 \n [107] \"515\"                                 \n [108] \"251\"                                 \n [109] \"603\"                                 \n [110] \"171\"                                 \n [111] \"61\"                                  \n [112] \"198\"                                 \n [113] \"116\"                                 \n [114] \"303\"                                 \n [115] \"100\"                                 \n [116] \"142\"                                 \n [117] \"416\"                                 \n [118] \"302\"                                 \n [119] \"247\"                                 \n [120] \"48\"                                  \n [121] \"162\"                                 \n [122] \"637\"                                 \n [123] \"107\"                                 \n [124] \"181\"                                 \n [125] \"47\"                                  \n [126] \"501\"                                 \n [127] \"236\"                                 \n [128] \"153\"                                 \n [129] \"431\"                                 \n [130] \"237\"                                 \n [131] \"147\"                                 \n [132] \"507\"                                 \n [133] \"128\"                                 \n [134] \"332\"                                 \n [135] \"286\"                                 \n [136] \"520\"                                 \n [137] \"173\"                                 \n [138] \"15\"                                  \n [139] \"435\"                                 \n [140] \"514\"                                 \n [141] \"192\"                                 \n [142] \"99\"                                  \n [143] \"180\"                                 \n [144] \"66\"                                  \n [145] \"29\"                                  \n [146] \"258\"                                 \n [147] \"532\"                                 \n [148] \"59\"                                  \n [149] \"320\"                                 \n [150] \"321\"                                 \n [151] \"364\"                                 \n [152] \"46\"                                  \n [153] \"166\"                                 \n [154] \"620\"                                 \n [155] \"517\"                                 \n [156] \"28\"                                  \n [157] \"304\"                                 \n [158] \"457\"                                 \n [159] \"654\"                                 \n [160] \"328\"                                 \n [161] \"87\"                                  \n [162] \"503\"                                 \n [163] \"272\"                                 \n [164] \"294\"                                 \n [165] \"74\"                                  \n [166] \"624\"                                 \n [167] \"632\"                                 \n [168] \"186\"                                 \n [169] \"57\"                                  \n [170] \"323\"                                 \n [171] \"144\"                                 \n [172] \"112\"                                 \n [173] \"664\"                                 \n [174] \"499\"                                 \n [175] \"284\"                                 \n [176] \"249\"                                 \n [177] \"472\"                                 \n [178] \"621\"                                 \n [179] \"463\"                                 \n [180] \"346\"                                 \n [181] \"176\"                                 \n [182] \"210\"                                 \n [183] \"277\"                                 \n [184] \"41\"                                  \n [185] \"334\"                                 \n [186] \"152\"                                 \n [187] \"505\"                                 \n [188] \"7\"                                   \n [189] \"264\"                                 \n [190] \"196\"                                 \n [191] \"194\"                                 \n [192] \"92\"                                  \n [193] \"322\"                                 \n [194] \"27\"                                  \n [195] \"359\"                                 \n [196] \"436\"                                 \n [197] \"604\"                                 \n [198] \"625\"                                 \n [199] \"261\"                                 \n [200] \"500\"                                 \n [201] \"148\"                                 \n [202] \"252\"                                 \n [203] \"597\"                                 \n [204] \"461\"                                 \n [205] \"20\"                                  \n [206] \"254\"                                 \n [207] \"481\"                                 \n [208] \"231\"                                 \n [209] \"51\"                                  \n [210] \"338\"                                 \n [211] \"506\"                                 \n [212] \"219\"                                 \n [213] \"182\"                                 \n [214] \"253\"                                 \n [215] \"141\"                                 \n [216] \"305\"                                 \n [217] \"90\"                                  \n [218] \"240\"                                 \n [219] \"158\"                                 \n [220] \"319\"                                 \n [221] \"161\"                                 \n [222] \"96\"                                  \n [223] \"232\"                                 \n [224] \"339\"                                 \n [225] \"34\"                                  \n [226] \"45\"                                  \n [227] \"411\"                                 \n [228] \"98\"                                  \n [229] \"202\"                                 \n [230] \"229\"                                 \n [231] \"54\"                                  \n [232] \"73\"                                  \n [233] \"628\"                                 \n [234] \"259\"                                 \n [235] \"85\"                                  \n [236] \"660\"                                 \n [237] \"4\"                                   \n [238] \"265\"                                 \n [239] \"239\"                                 \n [240] \"220\"                                 \n [241] \"177\"                                 \n [242] \"62\"                                  \n [243] \"257\"                                 \n [244] \"484\"                                 \n [245] \"487\"                                 \n [246] \"447\"                                 \n [247] \"127\"                                 \n [248] \"178\"                                 \n [249] \"242\"                                 \n [250] \"480\"                                 \n [251] \"117\"                                 \n [252] \"106\"                                 \n [253] \"97\"                                  \n [254] \"18\"                                  \n [255] \"290\"                                 \n [256] \"114\"                                 \n [257] \"475\"                                 \n [258] \"296\"                                 \n [259] \"115\"                                 \n [260] \"224\"                                 \n [261] \"695\"                                 \n [262] \"19\"                                  \n [263] \"467\"                                 \n [264] \"300\"                                 \n [265] \"214\"                                 \n [266] \"563\"                                 \n [267] \"496\"                                 \n [268] \"276\"                                 \n [269] \"183\"                                 \n [270] \"223\"                                 \n [271] \"137\"                                 \n [272] \"701\"                                 \n [273] \"307\"                                 \n [274] \"188\"                                 \n [275] \"344\"                                 \n [276] \"640\"                                 \n [277] \"36\"                                  \n [278] \"327\"                                 \n [279] \"355\"                                 \n [280] \"571\"                                 \n [281] \"347\"                                 \n [282] \"470\"                                 \n [283] \"44\"                                  \n [284] \"425\"                                 \n [285] \"163\"                                 \n [286] \"354\"                                 \n [287] \"230\"                                 \n [288] \"5\"                                   \n [289] \"6\"                                   \n [290] \"271\"                                 \n [291] \"293\"                                 \n [292] \"474\"                                 \n [293] \"326\"                                 \n [294] \"81\"                                  \n [295] \"211\"                                 \n [296] \"408\"                                 \n [297] \"193\"                                 \n [298] \"297\"                                 \n [299] \"299\"                                 \n [300] \"156\"                                 \n [301] \"295\"                                 \n [302] \"25\"                                  \n [303] \"154\"                                 \n [304] \"129\"                                 \n [305] \"31\"                                  \n [306] \"318\"                                 \n [307] \"309\"                                 \n [308] \"394\"                                 \n [309] \"132\"                                 \n [310] \"23\"                                  \n [311] \"600\"                                 \n [312] \"468\"                                 \n [313] \"39\"                                  \n [314] \"279\"                                 \n [315] \"324\"                                 \n [316] \"376\"                                 \n [317] \"136\"                                 \n [318] \"714\"                                 \n [319] \"491\"                                 \n [320] \"444\"                                 \n [321] \"124\"                                 \n [322] \"716\"                                 \n [323] \"340\"                                 \n [324] \"578\"                                 \n [325] \"428\"                                 \n [326] \"184\"                                 \n [327] \"213\"                                 \n [328] \"310\"                                 \n [329] \"238\"                                 \n [330] \"382\"                                 \n [331] \"88\"                                  \n [332] \"131\"                                 \n [333] \"125\"                                 \n [334] \"479\"                                 \n [335] \"316\"                                 \n [336] \"717\"                                 \n [337] \"118\"                                 \n [338] \"278\"                                 \n [339] \"9\"                                   \n [340] \"465\"                                 \n [341] \"262\"                                 \n [342] \"438\"                                 \n [343] \"68\"                                  \n [344] \"450\"                                 \n [345] \"267\"                                 \n [346] \"337\"                                 \n [347] \"483\"                                 \n [348] \"72\"                                  \n [349] \"644\"                                 \n [350] \"591\"                                 \n [351] \"285\"                                 \n [352] \"216\"                                 \n [353] \"417\"                                 \n [354] \"420\"                                 \n [355] \"502\"                                 \n [356] \"596\"                                 \n [357] \"22\"                                  \n [358] \"626\"                                 \n [359] \"14\"                                  \n [360] \"342\"                                 \n [361] \"11\"                                  \n [362] \"143\"                                 \n [363] \"639\"                                 \n [364] \"75\"                                  \n [365] \"525\"                                 \n [366] \"456\"                                 \n [367] \"366\"                                 \n [368] \"579\"                                 \n [369] \"528\"                                 \n [370] \"312\"                                 \n [371] \"550\"                                 \n [372] \"40\"                                  \n [373] \"263\"                                 \n [374] \"493\"                                 \n [375] \"592\"                                 \n [376] \"283\"                                 \n [377] \"37\"                                  \n [378] \"256\"                                 \n [379] \"370\"                                 \n [380] \"58\"                                  \n [381] \"218\"                                 \n [382] \"432\"                                 \n [383] \"381\"                                 \n [384] \"222\"                                 \n [385] \"705\"                                 \n [386] \"698\"                                 \n [387] \"160\"                                 \n [388] \"535\"                                 \n [389] \"217\"                                 \n [390] \"206\"                                 \n [391] \"86\"                                  \n [392] \"706\"                                 \n [393] \"410\"                                 \n [394] \"248\"                                 \n [395] \"374\"                                 \n [396] \"311\"                                 \n [397] \"367\"                                 \n [398] \"42\"                                  \n [399] \"442\"                                 \n [400] \"185\"                                 \n [401] \"67\"                                  \n [402] \"498\"                                 \n [403] \"208\"                                 \n [404] \"401\"                                 \n [405] \"32\"                                  \n [406] \"385\"                                 \n [407] \"33\"                                  \n [408] \"91\"                                  \n [409] \"167\"                                 \n [410] \"657\"                                 \n [411] \"635\"                                 \n [412] \"488\"                                 \n [413] \"234\"                                 \n [414] \"146\"                                 \n [415] \"281\"                                 \n [416] \"174\"                                 \n [417] \"546\"                                 \n [418] \"378\"                                 \n [419] \"352\"                                 \n [420] \"244\"                                 \n [421] \"510\"                                 \n [422] \"12\"                                  \n [423] \"241\"                                 \n [424] \"298\"                                 \n [425] \"659\"                                 \n [426] \"690\"                                 \n [427] \"598\"                                 \n [428] \"697\"                                 \n [429] \"662\"                                 \n [430] \"469\"                                 \n [431] \"418\"                                 \n [432] \"711\"                                 \n [433] \"345\"                                 \n [434] \"421\"                                 \n [435] \"365\"                                 \n [436] \"713\"                                 \n [437] \"343\"                                 \n [438] \"415\"                                 \n [439] \"317\"                                 \n [440] \"274\"                                 \n [441] \"109\"                                 \n [442] \"522\"                                 \n [443] \"30\"                                  \n [444] \"80\"                                  \n [445] \"452\"                                 \n [446] \"702\"                                 \n [447] \"464\"                                 \n [448] \"674\"                                 \n [449] \"204\"                                 \n [450] \"356\"                                 \n [451] \"292\"                                 \n [452] \"554\"                                 \n [453] \"191\"                                 \n [454] \"643\"                                 \n [455] \"477\"                                 \n [456] \"179\"                                 \n [457] \"414\"                                 \n [458] \"466\"                                 \n [459] \"622\"                                 \n [460] \"602\"                                 \n [461] \"641\"                                 \n [462] \"704\"                                 \n [463] \"275\"                                 \n [464] \"693\"                                 \n [465] \"676\"                                 \n [466] \"700\"                                 \n [467] \"449\"                                 \n [468] \"121\"                                 \n [469] \"656\"                                 \n [470] \"149\"                                 \n [471] \"630\"                                 \n [472] \"383\"                                 \n [473] \"497\"                                 \n [474] \"351\"                                 \n [475] \"482\"                                 \n [476] \"205\"                                 \n [477] \"490\"                                 \n [478] \"709\"                                 \n [479] \"661\"                                 \n [480] \"409\"                                 \n [481] \"696\"                                 \n [482] \"377\"                                 \n [483] \"373\"                                 \n [484] \"282\"                                 \n [485] \"536\"                                 \n [486] \"495\"                                 \n [487] \"348\"                                 \n [488] \"280\"                                 \n [489] \"619\"                                 \n [490] \"494\"                                 \n [491] \"441\"                                 \n [492] \"553\"                                 \n [493] \"200\"                                 \n [494] \"524\"                                 \n [495] \"119\"                                 \n [496] \"314\"                                 \n [497] \"666\"                                 \n [498] \"50\"                                  \n [499] \"330\"                                 \n [500] \"527\"                                 \n [501] \"159\"                                 \n [502] \"169\"                                 \n [503] \"551\"                                 \n [504] \"586\"                                 \n [505] \"566\"                                 \n [506] \"368\"                                 \n [507] \"478\"                                 \n [508] \"658\"                                 \n [509] \"540\"                                 \n [510] \"655\"                                 \n [511] \"559\"                                 \n [512] \"569\"                                 \n [513] \"407\"                                 \n [514] \"203\"                                 \n [515] \"531\"                                 \n [516] \"605\"                                 \n [517] \"413\"                                 \n [518] \"509\"                                 \n [519] \"422\"                                 \n [520] \"434\"                                 \n [521] \"689\"                                 \n [522] \"233\"                                 \n [523] \"170\"                                 \n [524] \"649\"                                 \n [525] \"476\"                                 \n [526] \"443\"                                 \n [527] \"390\"                                 \n [528] \"684\"                                 \n [529] \"642\"                                 \n [530] \"599\"                                 \n [531] \"433\"                                 \n [532] \"405\"                                 \n [533] \"508\"                                 \n [534] \"547\"                                 \n [535] \"533\"                                 \n [536] \"518\"                                 \n [537] \"544\"                                 \n [538] \"135\"                                 \n [539] \"95\"                                  \n [540] \"122\"                                 \n [541] \"590\"                                 \n [542] \"486\"                                 \n [543] \"336\"                                 \n [544] \"601\"                                 \n [545] \"663\"                                 \n [546] \"399\"                                 \n [547] \"103\"                                 \n [548] \"201\"                                 \n [549] \"519\"                                 \n [550] \"568\"                                 \n [551] \"448\"                                 \n [552] \"437\"                                 \n [553] \"403\"                                 \n [554] \"594\"                                 \n [555] \"429\"                                 \n [556] \"462\"                                 \n [557] \"207\"                                 \n [558] \"703\"                                 \n [559] \"699\"                                 \n [560] \"683\"                                 \n [561] \"369\"                                 \n [562] \"55\"                                  \n [563] \"576\"                                 \n [564] \"402\"                                 \n [565] \"686\"                                 \n [566] \"335\"                                 \n [567] \"489\"                                 \n [568] \"595\"                                 \n [569] \"583\"                                 \n [570] \"646\"                                 \n [571] \"575\"                                 \n [572] \"526\"                                 \n [573] \"549\"                                 \n [574] \"562\"                                 \n [575] \"631\"                                 \n [576] \"653\"                                 \n [577] \"529\"                                 \n [578] \"552\"                                 \n [579] \"707\"                                 \n [580] \"691\"                                 \n [581] \"393\"                                 \n [582] \"209\"                                 \n [583] \"534\"                                 \n [584] \"573\"                                 \n [585] \"555\"                                 \n [586] \"455\"                                 \n [587] \"353\"                                 \n [588] \"396\"                                 \n [589] \"677\"                                 \n [590] \"692\"                                 \n [591] \"440\"                                 \n [592] \"570\"                                 \n [593] \"375\"                                 \n [594] \"388\"                                 \n [595] \"101\"                                 \n [596] \"545\"                                 \n [597] \"565\"                                 \n [598] \"572\"                                 \n [599] \"685\"                                 \n [600] \"102\"                                 \n [601] \"574\"                                 \n [602] \"530\"                                 \n [603] \"542\"                                 \n [604] \"577\"                                 \n [605] \"427\"                                 \n [606] \"391\"                                 \n [607] \"439\"                                 \n [608] \"681\"                                 \n [609] \"694\"                                 \n [610] \"682\"                                 \n [611] \"398\"                                 \n [612] \"556\"                                 \n [613] \"430\"                                 \n [614] \"270\"                                 \n [615] \"580\"                                 \n [616] \"560\"                                 \n [617] \"412\"                                 \n [618] \"392\"                                 \n [619] \"564\"                                 \n [620] \"548\"                                 \n [621] \"581\"                                 \n [622] \"384\"                                 \n [623] \"718\"                                 \n [624] \"582\"                                 \n [625] \"708\"                                 \n [626] \"567\"                                 \n [627] \"561\"                                 \n [628] \"386\"                                 \n [629] \"558\"                                 \n [630] \"446\"                                 \n [631] \"395\"                                 \n [632] \"687\"                                 \n [633] \"541\"                                 \n [634] \"538\"                                 \n [635] \"678\"                                 \n [636] \"539\"                                 \n [637] \"543\"                                 \n [638] \"584\"                                 \n [639] \"537\"                                 \n [640] \"445\"                                 \n [641] \"665\"                                 \n [642] \"593\"                                 \n [643] \"587\"                                 \n [644] \"679\"                                 \n [645] \"720\"                                 \n [646] \"557\"                                 \n [647] \"650\"                                 \n [648] \"652\"                                 \n [649] \"648\"                                 \n [650] \"400\"                                 \n [651] \"588\"                                 \n [652] \"671\"                                 \n [653] \"721\"                                 \n [654] \"710\"                                 \n [655] \"647\"                                 \n [656] \"715\"                                 \n [657] \"719\"                                 \n [658] \"723\"                                 \n [659] \"731\"                                 \n [660] \"722\"                                 \n [661] \"726\"                                 \n [662] \"728\"                                 \n [663] \"727\"                                 \n [664] \"730\"                                 \n [665] \"725\"                                 \n [666] \"724\"                                 \n [667] \"732\"                                 \n [668] \"13157\"                               \n [669] \"TA1309000006\"                        \n [670] \"KA1503000043\"                        \n [671] \"TA1309000014\"                        \n [672] \"TA1305000006\"                        \n [673] \"13042\"                               \n [674] \"TA1307000127\"                        \n [675] \"TA1306000003\"                        \n [676] \"TA1306000006\"                        \n [677] \"TA1306000011\"                        \n [678] \"SL-013\"                              \n [679] \"13124\"                               \n [680] \"13137\"                               \n [681] \"13074\"                               \n [682] \"TA1309000066\"                        \n [683] \"TA1307000138\"                        \n [684] \"TA1307000052\"                        \n [685] \"TA1309000059\"                        \n [686] \"13268\"                               \n [687] \"KA1503000002\"                        \n [688] \"TA1307000140\"                        \n [689] \"13294\"                               \n [690] \"TA1307000062\"                        \n [691] \"15655\"                               \n [692] \"TA1307000064\"                        \n [693] \"TA1306000010\"                        \n [694] \"13058\"                               \n [695] \"13179\"                               \n [696] \"KA1504000076\"                        \n [697] \"13431\"                               \n [698] \"KA1503000070\"                        \n [699] \"13197\"                               \n [700] \"13006\"                               \n [701] \"KA1503000040\"                        \n [702] \"TA1307000129\"                        \n [703] \"TA1307000159\"                        \n [704] \"13326\"                               \n [705] \"SL-009\"                              \n [706] \"TA1307000120\"                        \n [707] \"13332\"                               \n [708] \"TA1305000011\"                        \n [709] \"TA1307000070\"                        \n [710] \"TA1305000030\"                        \n [711] \"TA1309000008\"                        \n [712] \"15545\"                               \n [713] \"13162\"                               \n [714] \"TA1307000039\"                        \n [715] \"13164\"                               \n [716] \"KA1504000104\"                        \n [717] \"13353\"                               \n [718] \"13022\"                               \n [719] \"13036\"                               \n [720] \"13139\"                               \n [721] \"KA1503000064\"                        \n [722] \"16920\"                               \n [723] \"13243\"                               \n [724] \"13017\"                               \n [725] \"TA1305000001\"                        \n [726] \"13028\"                               \n [727] \"TA1307000121\"                        \n [728] \"TA1307000130\"                        \n [729] \"SL-005\"                              \n [730] \"13165\"                               \n [731] \"TA1308000019\"                        \n [732] \"KA1503000041\"                        \n [733] \"TA1305000009\"                        \n [734] \"KA1503000072\"                        \n [735] \"TA1309000004\"                        \n [736] \"TA1309000035\"                        \n [737] \"KA1504000129\"                        \n [738] \"TA1306000007\"                        \n [739] \"TA1309000043\"                        \n [740] \"KA1503000034\"                        \n [741] \"KA1504000140\"                        \n [742] \"TA1307000126\"                        \n [743] \"KA1503000012\"                        \n [744] \"TA1307000166\"                        \n [745] \"TA1305000041\"                        \n [746] \"TA1309000019\"                        \n [747] \"15628\"                               \n [748] \"TA1308000049\"                        \n [749] \"TA1305000035\"                        \n [750] \"KA1504000116\"                        \n [751] \"13224\"                               \n [752] \"KA1504000149\"                        \n [753] \"TA1307000156\"                        \n [754] \"13276\"                               \n [755] \"TA1306000032\"                        \n [756] \"13136\"                               \n [757] \"15664\"                               \n [758] \"15529\"                               \n [759] \"13134\"                               \n [760] \"TA1307000041\"                        \n [761] \"KA1503000022\"                        \n [762] \"KA1504000096\"                        \n [763] \"TA1308000005\"                        \n [764] \"13409\"                               \n [765] \"13229\"                               \n [766] \"13109\"                               \n [767] \"15578\"                               \n [768] \"17660\"                               \n [769] \"TA1309000018\"                        \n [770] \"KA1504000103\"                        \n [771] \"KA1504000106\"                        \n [772] \"TA1309000007\"                        \n [773] \"TA1309000001\"                        \n [774] \"13389\"                               \n [775] \"13253\"                               \n [776] \"20252.0\"                             \n [777] \"13292\"                               \n [778] \"KA1504000159\"                        \n [779] \"20110\"                               \n [780] \"KA1504000164\"                        \n [781] \"15491\"                               \n [782] \"13245\"                               \n [783] \"15546\"                               \n [784] \"TA1307000128\"                        \n [785] \"TA1309000037\"                        \n [786] \"13258\"                               \n [787] \"RP-004\"                              \n [788] \"13156\"                               \n [789] \"TA1305000022\"                        \n [790] \"TA1307000005\"                        \n [791] \"13263\"                               \n [792] \"20116\"                               \n [793] \"15640\"                               \n [794] \"TA1309000049\"                        \n [795] \"TA1309000039\"                        \n [796] \"20207\"                               \n [797] \"TA1308000002\"                        \n [798] \"13277\"                               \n [799] \"13241\"                               \n [800] \"TA1305000010\"                        \n [801] \"KA1504000135\"                        \n [802] \"18016\"                               \n [803] \"13303\"                               \n [804] \"KA1504000082\"                        \n [805] \"KA1503000047\"                        \n [806] \"KA1503000033\"                        \n [807] \"KA1504000148\"                        \n [808] \"13133\"                               \n [809] \"TA1309000011\"                        \n [810] \"15692\"                               \n [811] \"15645\"                               \n [812] \"TA1309000055\"                        \n [813] \"16940\"                               \n [814] \"20238\"                               \n [815] \"20120\"                               \n [816] \"TA1307000163\"                        \n [817] \"13071\"                               \n [818] \"13213\"                               \n [819] \"20205\"                               \n [820] \"16903\"                               \n [821] \"20109\"                               \n [822] \"TA1307000161\"                        \n [823] \"20236\"                               \n [824] \"15682\"                               \n [825] \"KA1503000013\"                        \n [826] \"KA1503000018\"                        \n [827] \"SL-011\"                              \n [828] \"TA1308000050\"                        \n [829] \"TA1307000131\"                        \n [830] \"13296\"                               \n [831] \"13073\"                               \n [832] \"TA1308000021\"                        \n [833] \"13146\"                               \n [834] \"TA1305000029\"                        \n [835] \"TA1305000014\"                        \n [836] \"13323\"                               \n [837] \"TA1305000005\"                        \n [838] \"13269\"                               \n [839] \"TA1309000029\"                        \n [840] \"13008\"                               \n [841] \"15691\"                               \n [842] \"KA1503000053\"                        \n [843] \"13206\"                               \n [844] \"TA1305000037\"                        \n [845] \"KA1503000038\"                        \n [846] \"13290\"                               \n [847] \"16943\"                               \n [848] \"15631\"                               \n [849] \"20231\"                               \n [850] \"KA1504000161\"                        \n [851] \"TA1309000063\"                        \n [852] \"TA1308000038\"                        \n [853] \"15470\"                               \n [854] \"13091\"                               \n [855] \"15644\"                               \n [856] \"20233\"                               \n [857] \"KA1503000054\"                        \n [858] \"TA1307000119\"                        \n [859] \"20227\"                               \n [860] \"13341\"                               \n [861] \"TA1308000001\"                        \n [862] \"TA1309000061\"                        \n [863] \"18069\"                               \n [864] \"KA1504000093\"                        \n [865] \"15535\"                               \n [866] \"TA1305000039\"                        \n [867] \"TA1307000111\"                        \n [868] \"TA1308000029\"                        \n [869] \"KA1503000020\"                        \n [870] \"KA1503000075\"                        \n [871] \"KA1504000167\"                        \n [872] \"18062\"                               \n [873] \"15623\"                               \n [874] \"KA1503000044\"                        \n [875] \"15634\"                               \n [876] \"20221\"                               \n [877] \"KA1504000168\"                        \n [878] \"15654\"                               \n [879] \"20222\"                               \n [880] \"13053\"                               \n [881] \"15534\"                               \n [882] \"16950\"                               \n [883] \"651\"                                 \n [884] \"Hubbard Bike-checking (LBS-WH-TEST)\" \n [885] \"KA1706005015\"                        \n [886] \"18022\"                               \n [887] \"TA1309000053\"                        \n [888] \"KA1706005007\"                        \n [889] \"15550\"                               \n [890] \"15632\"                               \n [891] \"13056\"                               \n [892] \"15689\"                               \n [893] \"13247\"                               \n [894] \"TA1306000008\"                        \n [895] \"KA1504000141\"                        \n [896] \"KA1503000068\"                        \n [897] \"KA1503000052\"                        \n [898] \"15667\"                               \n [899] \"KA1504000156\"                        \n [900] \"15575\"                               \n [901] \"15446\"                               \n [902] \"20226\"                               \n [903] \"E007\"                                \n [904] \"KA1503000045\"                        \n [905] \"E002\"                                \n [906] \"KA1503000003\"                        \n [907] \"13307\"                               \n [908] \"15442\"                               \n [909] \"13045\"                               \n [910] \"TA1307000001\"                        \n [911] \"13379\"                               \n [912] \"15642\"                               \n [913] \"15539\"                               \n [914] \"TA1308000036\"                        \n [915] \"15530\"                               \n [916] \"TA1305000025\"                        \n [917] \"TA1309000002\"                        \n [918] \"KA1504000142\"                        \n [919] \"TA1308000026\"                        \n [920] \"16937\"                               \n [921] \"E008\"                                \n [922] \"15449\"                               \n [923] \"20229\"                               \n [924] \"16913\"                               \n [925] \"15622\"                               \n [926] \"KA1504000151\"                        \n [927] \"KA1504000113\"                        \n [928] \"15646\"                               \n [929] \"TA1308000014\"                        \n [930] \"TA1309000021\"                        \n [931] \"TA1308000007\"                        \n [932] \"13345\"                               \n [933] \"13331\"                               \n [934] \"TA1308000013\"                        \n [935] \"16806\"                               \n [936] \"KA1504000134\"                        \n [937] \"15666\"                               \n [938] \"KA1504000109\"                        \n [939] \"TA1309000003\"                        \n [940] \"TA1309000025\"                        \n [941] \"TA1307000158\"                        \n [942] \"15615\"                               \n [943] \"TA1309000032\"                        \n [944] \"KA1504000091\"                        \n [945] \"13191\"                               \n [946] \"20105\"                               \n [947] \"16010\"                               \n [948] \"TA1305000004\"                        \n [949] \"E011\"                                \n [950] \"KA150400009X\"                        \n [951] \"KA1504000097\"                        \n [952] \"13285\"                               \n [953] \"TA1308000006\"                        \n [954] \"KA1504000155\"                        \n [955] \"KA1504000130\"                        \n [956] \"LF-005\"                              \n [957] \"13300\"                               \n [958] \"KA1504000152\"                        \n [959] \"13193\"                               \n [960] \"13029\"                               \n [961] \"KA1503000059\"                        \n [962] \"20242\"                               \n [963] \"KA1503000028\"                        \n [964] \"TA1308000045\"                        \n [965] \"TA1309000030\"                        \n [966] \"KA1503000065\"                        \n [967] \"KA1504000086\"                        \n [968] \"20244\"                               \n [969] \"KA1503000025\"                        \n [970] \"TA1308000035\"                        \n [971] \"13061\"                               \n [972] \"TA1309000041\"                        \n [973] \"13143\"                               \n [974] \"KA1504000175\"                        \n [975] \"TA1307000149\"                        \n [976] \"RN-\"                                 \n [977] \"13216\"                               \n [978] \"TA1306000002\"                        \n [979] \"KA1504000090\"                        \n [980] \"13256\"                               \n [981] \"TA1307000160\"                        \n [982] \"WL-008\"                              \n [983] \"13288\"                               \n [984] \"KA1504000147\"                        \n [985] \"KA1503000021\"                        \n [986] \"KA1503000023\"                        \n [987] \"KA1503000049\"                        \n [988] \"13196\"                               \n [989] \"15445\"                               \n [990] \"13221\"                               \n [991] \"KA17018068\"                          \n [992] \"15621\"                               \n [993] \"13398\"                               \n [994] \"TA1307000107\"                        \n [995] \"13128\"                               \n [996] \"TA1307000048\"                        \n [997] \"TA1309000010\"                        \n [998] \"13084\"                               \n [999] \"TA1306000009\"                        \n[1000] \"SL-006\"                              \n[1001] \"KA1504000102\"                        \n[1002] \"TA1305000017\"                        \n[1003] \"KA1504000078\"                        \n[1004] \"18025\"                               \n[1005] \"KA1504000110\"                        \n[1006] \"16991\"                               \n[1007] \"RP-005\"                              \n[1008] \"16994\"                               \n[1009] \"E014\"                                \n[1010] \"KA1503000007\"                        \n[1011] \"TA1308000009\"                        \n[1012] \"TA1309000026\"                        \n[1013] \"13257\"                               \n[1014] \"15686\"                               \n[1015] \"13021\"                               \n[1016] \"KA1503000001\"                        \n[1017] \"13235\"                               \n[1018] \"20246.0\"                             \n[1019] \"TA1306000026\"                        \n[1020] \"KA1503000019\"                        \n[1021] \"13434\"                               \n[1022] \"TA1307000139\"                        \n[1023] \"13194\"                               \n[1024] \"20104\"                               \n[1025] \"KA1503000031\"                        \n[1026] \"13108\"                               \n[1027] \"13430\"                               \n[1028] \"KA1503000011\"                        \n[1029] \"KA1503000030\"                        \n[1030] \"18003\"                               \n[1031] \"KP1705001026\"                        \n[1032] \"KA1504000146\"                        \n[1033] \"13016\"                               \n[1034] \"KA1504000079\"                        \n[1035] \"13001\"                               \n[1036] \"TA1306000013\"                        \n[1037] \"TA1306000025\"                        \n[1038] \"13034\"                               \n[1039] \"13427\"                               \n[1040] \"TA1307000115\"                        \n[1041] \"KA1504000101\"                        \n[1042] \"TA1309000064\"                        \n[1043] \"TA1309000027\"                        \n[1044] \"TA1309000036\"                        \n[1045] \"13063\"                               \n[1046] \"15542\"                               \n[1047] \"TA1308000012\"                        \n[1048] \"TA1306000015\"                        \n[1049] \"WL-011\"                              \n[1050] \"KA1503000029\"                        \n[1051] \"KA1503000074\"                        \n[1052] \"13192\"                               \n[1053] \"13289\"                               \n[1054] \"TA1307000136\"                        \n[1055] \"TA1307000143\"                        \n[1056] \"13249\"                               \n[1057] \"13432\"                               \n[1058] \"TA1307000142\"                        \n[1059] \"TA1306000014\"                        \n[1060] \"13319\"                               \n[1061] \"KA1504000133\"                        \n[1062] \"13068\"                               \n[1063] \"15571\"                               \n[1064] \"TA1307000150\"                        \n[1065] \"KA1503000015\"                        \n[1066] \"13150\"                               \n[1067] \"13135\"                               \n[1068] \"13158\"                               \n[1069] \"13265\"                               \n[1070] \"TA1307000151\"                        \n[1071] \"13278\"                               \n[1072] \"13099\"                               \n[1073] \"13037\"                               \n[1074] \"13075\"                               \n[1075] \"TA1309000023\"                        \n[1076] \"TA1305000003\"                        \n[1077] \"TA1309000024\"                        \n[1078] \"13138\"                               \n[1079] \"13160\"                               \n[1080] \"TA1309000015\"                        \n[1081] \"TA1307000144\"                        \n[1082] \"TA1307000006\"                        \n[1083] \"TA1308000031\"                        \n[1084] \"TA1305000020\"                        \n[1085] \"KA1504000127\"                        \n[1086] \"TA1308000047\"                        \n[1087] \"RP-009\"                              \n[1088] \"RP-002\"                              \n[1089] \"13325\"                               \n[1090] \"TA1307000134\"                        \n[1091] \"TA1309000050\"                        \n[1092] \"TA1306000012\"                        \n[1093] \"TA1309000012\"                        \n[1094] \"LP-\"                                 \n[1095] \"KA1504000158\"                        \n[1096] \"KA1504000080\"                        \n[1097] \"TA1306000016\"                        \n[1098] \"TA1307000038\"                        \n[1099] \"18067\"                               \n[1100] \"13085\"                               \n[1101] \"13242\"                               \n[1102] \"RP-001\"                              \n[1103] \"SL-010\"                              \n[1104] \"15585\"                               \n[1105] \"KA1504000114\"                        \n[1106] \"13155\"                               \n[1107] \"WL-012\"                              \n[1108] \"18058\"                               \n[1109] \"SL-007\"                              \n[1110] \"13266\"                               \n[1111] \"KA1504000143\"                        \n[1112] \"13089\"                               \n[1113] \"KA1503000066\"                        \n[1114] \"13081\"                               \n[1115] \"TA1308000043\"                        \n[1116] \"KA1504000160\"                        \n[1117] \"KA1503000046\"                        \n[1118] \"KA1503000051\"                        \n[1119] \"KA17018054\"                          \n[1120] \"20119\"                               \n[1121] \"16906\"                               \n[1122] \"TA1307000124\"                        \n[1123] \"13304\"                               \n[1124] \"20243\"                               \n[1125] \"TA1309000042\"                        \n[1126] \"20234\"                               \n[1127] \"20254.0\"                             \n[1128] \"18017\"                               \n[1129] \"KA1503000073\"                        \n[1130] \"KA1503000027\"                        \n[1131] \"13080\"                               \n[1132] \"KA1504000128\"                        \n[1133] \"13033\"                               \n[1134] \"13259\"                               \n[1135] \"KA1504000117\"                        \n[1136] \"16933\"                               \n[1137] \"16948\"                               \n[1138] \"16912\"                               \n[1139] \"KA1503000069\"                        \n[1140] \"15651\"                               \n[1141] \"TA1309000058\"                        \n[1142] \"20239\"                               \n[1143] \"TA1308000023\"                        \n[1144] \"15687\"                               \n[1145] \"15597\"                               \n[1146] \"KA1503000055\"                        \n[1147] \"TA1307000066\"                        \n[1148] \"KA1503000071\"                        \n[1149] \"RP-006\"                              \n[1150] \"15544\"                               \n[1151] \"16921\"                               \n[1152] \"13154\"                               \n[1153] \"KA1503000032\"                        \n[1154] \"13354\"                               \n[1155] \"KA1503000004\"                        \n[1156] \"13050\"                               \n[1157] \"20232\"                               \n[1158] \"20206\"                               \n[1159] \"16932\"                               \n[1160] \"13338\"                               \n[1161] \"KA1503000010\"                        \n[1162] \"20121\"                               \n[1163] \"20107\"                               \n[1164] \"20210\"                               \n[1165] \"KA1503000009\"                        \n[1166] \"13420\"                               \n[1167] \"13011\"                               \n[1168] \"15648\"                               \n[1169] \"16953\"                               \n[1170] \"13083\"                               \n[1171] \"13102\"                               \n[1172] \"16905\"                               \n[1173] \"13144\"                               \n[1174] \"RP-008\"                              \n[1175] \"SL-008\"                              \n[1176] \"15685\"                               \n[1177] \"20127\"                               \n[1178] \"20223\"                               \n[1179] \"TA1307000113\"                        \n[1180] \"13217\"                               \n[1181] \"TA1307000117\"                        \n[1182] \"KA1504000139\"                        \n[1183] \"TA1307000153\"                        \n[1184] \"20108\"                               \n[1185] \"TA1305000032\"                        \n[1186] \"TA1305000002\"                        \n[1187] \"13132\"                               \n[1188] \"KA1503000024\"                        \n[1189] \"20235\"                               \n[1190] \"20131\"                               \n[1191] \"15541\"                               \n[1192] \"15443\"                               \n[1193] \"KA1504000126\"                        \n[1194] \"20218\"                               \n[1195] \"RP-007\"                              \n[1196] \"KA1503000005\"                        \n[1197] \"TA1308000046\"                        \n[1198] \"15652\"                               \n[1199] \"15668\"                               \n[1200] \"SL-012\"                              \n[1201] \"15624\"                               \n[1202] \"E006\"                                \n[1203] \"TA1309000067\"                        \n[1204] \"20230\"                               \n[1205] \"TA1309000051\"                        \n[1206] \"TA1305000034\"                        \n[1207] \"TA1307000061\"                        \n[1208] \"16918\"                               \n[1209] \"20118\"                               \n[1210] \"20129\"                               \n[1211] \"TA1307000044\"                        \n[1212] \"13215\"                               \n[1213] \"KA1504000171\"                        \n[1214] \"13059\"                               \n[1215] \"13271\"                               \n[1216] \"TA1308000022\"                        \n[1217] \"TA1309000033\"                        \n[1218] \"TA1307000164\"                        \n[1219] \"15653\"                               \n[1220] \"15643\"                               \n[1221] \"TA1306000029\"                        \n[1222] \"13163\"                               \n[1223] \"KA1503000014\"                        \n[1224] \"13248\"                               \n[1225] \"15650\"                               \n[1226] \"13096\"                               \n[1227] \"KA1504000162\"                        \n[1228] \"20103\"                               \n[1229] \"16907\"                               \n[1230] \"20203\"                               \n[1231] \"16916\"                               \n[1232] \"20215\"                               \n[1233] \"20225\"                               \n[1234] \"20253.0\"                             \n[1235] \"16915\"                               \n[1236] \"20257.0\"                             \n[1237] \"20247.0\"                             \n[1238] \"20204\"                               \n[1239] \"20113\"                               \n[1240] \"20130\"                               \n[1241] \"20124\"                               \n[1242] \"20256.0\"                             \n[1243] \"16970\"                               \n[1244] \"20112\"                               \n[1245] \"20251.0\"                             \n[1246] \"20214\"                               \n[1247] \"15599\"                               \n[1248] \"20245\"                               \n[1249] \"20228\"                               \n[1250] \"20123\"                               \n[1251] \"20101\"                               \n[1252] \"20208\"                               \n[1253] \"20106\"                               \n[1254] \"20.0\"                                \n[1255] \"20211\"                               \n[1256] \"20258.0\"                             \n[1257] \"20128\"                               \n[1258] \"20217\"                               \n[1259] \"20248.0\"                             \n[1260] \"20213\"                               \n[1261] \"20212\"                               \n[1262] \"20125\"                               \n[1263] \"202480.0\"                            \n[1264] \"20201\"                               \n[1265] \"20220\"                               \n[1266] \"20224\"                               \n[1267] \"201022\"                              \n[1268] \"20133\"                               \n[1269] \"20202\"                               \n[1270] \"20249.0\"                             \n[1271] \"DIVVY 001\"                           \n[1272] \"20237\"                               \n[1273] \"20134\"                               \n[1274] \"20126\"                               \n[1275] \"20999\"                               \n[1276] \"365.0\"                               \n[1277] \"368.0\"                               \n[1278] \"362.0\"                               \n[1279] \"366.0\"                               \n[1280] \"364.0\"                               \n[1281] \"DIVVY CASSETTE REPAIR MOBILE STATION\"\n[1282] \"358\"                                 \n[1283] \"329.0\"                               \n[1284] \"363.0\"                               \n[1285] \"473\"                                 \n[1286] \"20209\"                               \n[1287] \"330.0\"                               \n[1288] \"331.0\"                               \n[1289] \"334.0\"                               \n[1290] \"360\"                                 \n[1291] \"397\"                                 \n[1292] \"335.0\"                               \n[1293] \"332.0\"                               \n[1294] \"357\"                                 \n```\n:::\n:::\n\n\n</details>\n\nCreating a vector of station ids identified as ids associated with Divvy test and repair stations.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrs_id <- c(\"DIVVY 001\",\n            \"DIVVY CASSETTE REPAIR MOBILE STATION\",\n            \"Hubbard Bike-checking (LBS-WH-TEST)\")\n```\n:::\n\n\nKeeping only trips that are relevant for the analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 <- all_trips_v2 %>%\n  filter(!start_station_name %in% trs_name &\n         !end_station_name %in% trs_name &\n         !start_station_id %in% trs_id &\n         !end_station_id %in% trs_id &\n         between(ride_length, 1, 180))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim_desc(all_trips_v2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"[4,804,459 x 13]\"\n```\n:::\n:::\n\n\n### Inspecting the difference between the number of station ids and number of stations\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 %>% \n  group_by(start_station_name, start_station_id) %>% \n  summarise(min_datetime = min(started_at), max_datetime = max(started_at), \n            count = n(),.groups = 'drop') %>%\n  arrange(start_station_name, min_datetime) %>% \n  head(30) %>% \n  kableExtra::kbl() %>% \n  kableExtra::kable_styling(c(\"striped\", \"hover\", \"condensed\", \"responsive\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> start_station_name </th>\n   <th style=\"text-align:left;\"> start_station_id </th>\n   <th style=\"text-align:left;\"> min_datetime </th>\n   <th style=\"text-align:left;\"> max_datetime </th>\n   <th style=\"text-align:right;\"> count </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 2112 W Peterson Ave </td>\n   <td style=\"text-align:left;\"> 456 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 10:20:07 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 17:57:38 </td>\n   <td style=\"text-align:right;\"> 295 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2112 W Peterson Ave </td>\n   <td style=\"text-align:left;\"> KA1504000155 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 20:57:23 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 19:04:10 </td>\n   <td style=\"text-align:right;\"> 766 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 351 </td>\n   <td style=\"text-align:left;\"> 351 </td>\n   <td style=\"text-align:left;\"> 2021-08-04 16:31:29 </td>\n   <td style=\"text-align:left;\"> 2021-08-07 23:59:38 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 63rd St Beach </td>\n   <td style=\"text-align:left;\"> 101 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 06:32:10 </td>\n   <td style=\"text-align:left;\"> 2020-11-29 09:15:38 </td>\n   <td style=\"text-align:right;\"> 645 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 63rd St Beach </td>\n   <td style=\"text-align:left;\"> 15491 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 12:13:32 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 18:59:18 </td>\n   <td style=\"text-align:right;\"> 1716 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 900 W Harrison St </td>\n   <td style=\"text-align:left;\"> 109 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 00:10:07 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 21:37:27 </td>\n   <td style=\"text-align:right;\"> 1540 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 900 W Harrison St </td>\n   <td style=\"text-align:left;\"> 13028 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 05:57:08 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 23:32:29 </td>\n   <td style=\"text-align:right;\"> 4379 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Aberdeen St &amp; Jackson Blvd </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 05:21:41 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 18:00:59 </td>\n   <td style=\"text-align:right;\"> 2762 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Aberdeen St &amp; Jackson Blvd </td>\n   <td style=\"text-align:left;\"> 13157 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 05:47:45 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 21:53:55 </td>\n   <td style=\"text-align:right;\"> 7855 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Aberdeen St &amp; Monroe St </td>\n   <td style=\"text-align:left;\"> 80 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 06:26:54 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 16:31:57 </td>\n   <td style=\"text-align:right;\"> 2126 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Aberdeen St &amp; Monroe St </td>\n   <td style=\"text-align:left;\"> 13156 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 00:36:33 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 23:57:23 </td>\n   <td style=\"text-align:right;\"> 7547 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Aberdeen St &amp; Randolph St </td>\n   <td style=\"text-align:left;\"> 621 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 05:48:49 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 21:05:51 </td>\n   <td style=\"text-align:right;\"> 1934 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Aberdeen St &amp; Randolph St </td>\n   <td style=\"text-align:left;\"> 18062 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 07:23:39 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 22:02:47 </td>\n   <td style=\"text-align:right;\"> 6648 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ada St &amp; 113th St </td>\n   <td style=\"text-align:left;\"> 727 </td>\n   <td style=\"text-align:left;\"> 2020-10-07 19:34:30 </td>\n   <td style=\"text-align:left;\"> 2020-11-26 22:29:45 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ada St &amp; 113th St </td>\n   <td style=\"text-align:left;\"> 20129 </td>\n   <td style=\"text-align:left;\"> 2020-12-13 13:21:13 </td>\n   <td style=\"text-align:left;\"> 2021-08-26 14:36:13 </td>\n   <td style=\"text-align:right;\"> 65 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ada St &amp; Washington Blvd </td>\n   <td style=\"text-align:left;\"> 346 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 04:34:53 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 20:44:42 </td>\n   <td style=\"text-align:right;\"> 1928 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ada St &amp; Washington Blvd </td>\n   <td style=\"text-align:left;\"> 13353 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 07:19:09 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 23:42:08 </td>\n   <td style=\"text-align:right;\"> 6191 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Adler Planetarium </td>\n   <td style=\"text-align:left;\"> 341 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 07:04:27 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 15:22:52 </td>\n   <td style=\"text-align:right;\"> 3961 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Adler Planetarium </td>\n   <td style=\"text-align:left;\"> 13431 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 15:08:23 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 22:11:50 </td>\n   <td style=\"text-align:right;\"> 11668 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Albany Ave &amp; 26th St </td>\n   <td style=\"text-align:left;\"> 444 </td>\n   <td style=\"text-align:left;\"> 2020-09-02 17:49:47 </td>\n   <td style=\"text-align:left;\"> 2020-11-29 13:42:10 </td>\n   <td style=\"text-align:right;\"> 104 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Albany Ave &amp; 26th St </td>\n   <td style=\"text-align:left;\"> 15691 </td>\n   <td style=\"text-align:left;\"> 2020-12-03 15:37:34 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 17:12:28 </td>\n   <td style=\"text-align:right;\"> 230 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Albany Ave &amp; Bloomingdale Ave </td>\n   <td style=\"text-align:left;\"> 511 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 08:41:29 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 17:06:57 </td>\n   <td style=\"text-align:right;\"> 988 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Albany Ave &amp; Bloomingdale Ave </td>\n   <td style=\"text-align:left;\"> 15655 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 16:19:50 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 22:50:08 </td>\n   <td style=\"text-align:right;\"> 3469 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Albany Ave &amp; Montrose Ave </td>\n   <td style=\"text-align:left;\"> 480 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 08:32:40 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 15:48:55 </td>\n   <td style=\"text-align:right;\"> 614 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Albany Ave &amp; Montrose Ave </td>\n   <td style=\"text-align:left;\"> 15621 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 19:31:21 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 19:36:53 </td>\n   <td style=\"text-align:right;\"> 1496 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Altgeld Gardens </td>\n   <td style=\"text-align:left;\"> 20212 </td>\n   <td style=\"text-align:left;\"> 2021-04-29 19:12:19 </td>\n   <td style=\"text-align:left;\"> 2021-08-24 18:21:22 </td>\n   <td style=\"text-align:right;\"> 84 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Archer (Damen) Ave &amp; 37th St </td>\n   <td style=\"text-align:left;\"> 645 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 22:34:37 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 09:44:16 </td>\n   <td style=\"text-align:right;\"> 150 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Archer (Damen) Ave &amp; 37th St </td>\n   <td style=\"text-align:left;\"> 18022 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 17:30:51 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 17:10:59 </td>\n   <td style=\"text-align:right;\"> 396 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Artesian Ave &amp; Hubbard St </td>\n   <td style=\"text-align:left;\"> 376 </td>\n   <td style=\"text-align:left;\"> 2020-09-01 07:34:15 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 20:07:33 </td>\n   <td style=\"text-align:right;\"> 886 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Artesian Ave &amp; Hubbard St </td>\n   <td style=\"text-align:left;\"> 15664 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 07:46:23 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 16:56:55 </td>\n   <td style=\"text-align:right;\"> 1564 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n**Conclusion:** Divvy has changed station ids for most stations at the beginning of December 2020. This will not affect the analysis so I will leave it as is. What is important is that at the time of a ride each station has been assigned a unique id. Let's see why this change happened.\n\nCreating a 3-dimensional frequency table.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nftable(all_trips_v2$user_type, all_trips_v2$year_month, all_trips_v2$rideable_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                classic_bike docked_bike electric_bike\n                                                      \ncasual 2020-09             0      166860         57251\n       2020-10             0       77464         63230\n       2020-11             0       44729         41296\n       2020-12         11129        4801         13526\n       2021-01          8141        2026          7552\n       2021-02          5491        1196          3077\n       2021-03         44734       15100         22385\n       2021-04         69391       23795         40221\n       2021-05        121322       41444         87520\n       2021-06        183950       49440        127428\n       2021-07        236632       55529        139456\n       2021-08        225733       43517        134755\nmember 2020-09             0      226706         68014\n       2020-10             0      152039         85355\n       2020-11             0      103106         65012\n       2020-12         58556        7660         33450\n       2021-01         52683           1         24681\n       2021-02         28540           0          9846\n       2021-03        105476           0         36713\n       2021-04        141562           0         55563\n       2021-05        182005           0         87425\n       2021-06        242527           0        109475\n       2021-07        260782           0        112381\n       2021-08        268693           0        116087\n```\n:::\n:::\n\n\nFrom September to November 2020 there were only two rideable types, `docked_bike` and `electric_bike`. At the beginning of December 2020 new rideable type is introduced, the `classic_bike`, and a distinction is made between the `docked_bike` and the `classic_bike`. Since the beginning of 2021, casual riders can use classic and docked bikes, while annual members only classic bikes. Therefore, we can not conclude a preference for one rideable type over another between casuals and members. Later on I will convert all docked bikes into classics and compare preferences for classic or electric bikes.\n\n### Checking if any station has changed its name at some point\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 %>% \n  group_by(start_station_id, year_month) %>%\n  summarise(n_distinct_start_station_name = n_distinct(start_station_name), \n            .groups = 'drop') %>% \n  filter(n_distinct_start_station_name > 1) %>% \n  kableExtra::kbl() %>% \n  kableExtra::kable_styling(c(\"striped\", \"hover\", \"condensed\", \"responsive\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> start_station_id </th>\n   <th style=\"text-align:left;\"> year_month </th>\n   <th style=\"text-align:right;\"> n_distinct_start_station_name </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 13074 </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13099 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13221 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13300 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 26 </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 317 </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 332 </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 351 </td>\n   <td style=\"text-align:left;\"> 2021-08 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 503 </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 625 </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 631 </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 704 </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 709 </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 725 </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> E011 </td>\n   <td style=\"text-align:left;\"> 2020-12 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> LF-005 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1305000039 </td>\n   <td style=\"text-align:left;\"> 2021-05 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1306000029 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1307000041 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1309000039 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1309000049 </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstart_id <- c(\"13074\", \"13099\", \"13300\", \"19\", \"26\", \"317\", \"332\", \"351\", \"503\",\n              \"625\", \"631\", \"704\", \"709\", \"725\", \"E011\", \"LF-005\", \"TA1305000039\",\n              \"TA1306000029\", \"TA1307000041\", \"TA1309000039\", \"TA1309000049\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 %>%\n  filter(start_station_id %in% start_id) %>% \n  group_by(start_station_id, start_station_name) %>%\n  summarise(min_datetime = min(started_at), max_datetime = max(started_at), \n            count = n(), .groups = 'drop' ) %>% \n  arrange(start_station_id, min_datetime) %>% \n  kableExtra::kbl() %>% \n  kableExtra::kable_styling(c(\"striped\", \"hover\", \"condensed\", \"responsive\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> start_station_id </th>\n   <th style=\"text-align:left;\"> start_station_name </th>\n   <th style=\"text-align:left;\"> min_datetime </th>\n   <th style=\"text-align:left;\"> max_datetime </th>\n   <th style=\"text-align:right;\"> count </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 13074 </td>\n   <td style=\"text-align:left;\"> Broadway &amp; Wilson Ave </td>\n   <td style=\"text-align:left;\"> 2020-12-01 09:29:54 </td>\n   <td style=\"text-align:left;\"> 2021-01-26 19:50:38 </td>\n   <td style=\"text-align:right;\"> 425 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13074 </td>\n   <td style=\"text-align:left;\"> Broadway &amp; Wilson - Truman College Vaccination Site </td>\n   <td style=\"text-align:left;\"> 2021-01-27 14:35:48 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 22:38:18 </td>\n   <td style=\"text-align:right;\"> 6036 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13099 </td>\n   <td style=\"text-align:left;\"> Halsted St &amp; 18th St </td>\n   <td style=\"text-align:left;\"> 2020-12-01 06:10:22 </td>\n   <td style=\"text-align:left;\"> 2021-07-28 12:51:03 </td>\n   <td style=\"text-align:right;\"> 1616 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13099 </td>\n   <td style=\"text-align:left;\"> Halsted St &amp; 18th St (Temp) </td>\n   <td style=\"text-align:left;\"> 2021-07-26 16:35:28 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 23:54:30 </td>\n   <td style=\"text-align:right;\"> 509 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13300 </td>\n   <td style=\"text-align:left;\"> Lake Shore Dr &amp; Monroe St </td>\n   <td style=\"text-align:left;\"> 2020-12-01 08:26:56 </td>\n   <td style=\"text-align:left;\"> 2021-07-21 10:45:56 </td>\n   <td style=\"text-align:right;\"> 25133 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 13300 </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; Monroe St </td>\n   <td style=\"text-align:left;\"> 2021-07-20 19:20:12 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 23:38:38 </td>\n   <td style=\"text-align:right;\"> 9220 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:left;\"> Throop (Loomis) St &amp; Taylor St </td>\n   <td style=\"text-align:left;\"> 2020-09-01 00:06:50 </td>\n   <td style=\"text-align:left;\"> 2020-09-30 07:08:15 </td>\n   <td style=\"text-align:right;\"> 811 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:left;\"> Throop St &amp; Taylor St </td>\n   <td style=\"text-align:left;\"> 2020-09-30 06:11:29 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 17:30:36 </td>\n   <td style=\"text-align:right;\"> 1048 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 26 </td>\n   <td style=\"text-align:left;\"> McClurg Ct &amp; Illinois St </td>\n   <td style=\"text-align:left;\"> 2020-09-01 05:05:44 </td>\n   <td style=\"text-align:left;\"> 2020-10-21 09:26:26 </td>\n   <td style=\"text-align:right;\"> 3877 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 26 </td>\n   <td style=\"text-align:left;\"> New St &amp; Illinois St </td>\n   <td style=\"text-align:left;\"> 2020-10-18 17:00:24 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 21:27:44 </td>\n   <td style=\"text-align:right;\"> 1234 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 317 </td>\n   <td style=\"text-align:left;\"> Wood St &amp; Taylor St </td>\n   <td style=\"text-align:left;\"> 2020-09-01 09:42:40 </td>\n   <td style=\"text-align:left;\"> 2020-09-22 09:09:28 </td>\n   <td style=\"text-align:right;\"> 417 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 317 </td>\n   <td style=\"text-align:left;\"> Wood St &amp; Taylor St (Temp) </td>\n   <td style=\"text-align:left;\"> 2020-09-02 14:44:03 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 22:32:47 </td>\n   <td style=\"text-align:right;\"> 1241 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 317 </td>\n   <td style=\"text-align:left;\"> Long Ave &amp; Belmont Ave </td>\n   <td style=\"text-align:left;\"> 2021-07-27 21:37:39 </td>\n   <td style=\"text-align:left;\"> 2021-08-30 11:23:10 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 332 </td>\n   <td style=\"text-align:left;\"> Burling St (Halsted) &amp; Diversey Pkwy (Temp) </td>\n   <td style=\"text-align:left;\"> 2020-09-01 07:32:26 </td>\n   <td style=\"text-align:left;\"> 2020-09-23 15:16:31 </td>\n   <td style=\"text-align:right;\"> 1204 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 332 </td>\n   <td style=\"text-align:left;\"> Burling St &amp; Diversey Pkwy </td>\n   <td style=\"text-align:left;\"> 2020-09-23 16:14:35 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 23:05:39 </td>\n   <td style=\"text-align:right;\"> 2286 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 351 </td>\n   <td style=\"text-align:left;\"> Cottage Grove Ave &amp; 51st St </td>\n   <td style=\"text-align:left;\"> 2020-09-01 12:43:12 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 23:21:30 </td>\n   <td style=\"text-align:right;\"> 385 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 351 </td>\n   <td style=\"text-align:left;\"> Mulligan Ave &amp; Wellington Ave </td>\n   <td style=\"text-align:left;\"> 2021-08-03 16:01:18 </td>\n   <td style=\"text-align:left;\"> 2021-08-30 17:06:17 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 351 </td>\n   <td style=\"text-align:left;\"> 351 </td>\n   <td style=\"text-align:left;\"> 2021-08-04 16:31:29 </td>\n   <td style=\"text-align:left;\"> 2021-08-07 23:59:38 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 503 </td>\n   <td style=\"text-align:left;\"> Drake Ave &amp; Fullerton Ave </td>\n   <td style=\"text-align:left;\"> 2020-09-01 04:40:18 </td>\n   <td style=\"text-align:left;\"> 2020-10-01 13:50:08 </td>\n   <td style=\"text-align:right;\"> 447 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 503 </td>\n   <td style=\"text-align:left;\"> St. Louis Ave &amp; Fullerton Ave </td>\n   <td style=\"text-align:left;\"> 2020-10-01 19:53:17 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 20:20:55 </td>\n   <td style=\"text-align:right;\"> 392 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 625 </td>\n   <td style=\"text-align:left;\"> Chicago Ave &amp; Dempster St </td>\n   <td style=\"text-align:left;\"> 2020-09-01 09:51:04 </td>\n   <td style=\"text-align:left;\"> 2020-11-30 21:35:09 </td>\n   <td style=\"text-align:right;\"> 731 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 625 </td>\n   <td style=\"text-align:left;\"> Dodge Ave &amp; Main St </td>\n   <td style=\"text-align:left;\"> 2020-11-29 14:43:14 </td>\n   <td style=\"text-align:left;\"> 2020-11-29 15:25:01 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 631 </td>\n   <td style=\"text-align:left;\"> Malcolm X College </td>\n   <td style=\"text-align:left;\"> 2020-09-01 14:36:58 </td>\n   <td style=\"text-align:left;\"> 2021-01-23 18:39:19 </td>\n   <td style=\"text-align:right;\"> 311 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 631 </td>\n   <td style=\"text-align:left;\"> Malcolm X College Vaccination Site </td>\n   <td style=\"text-align:left;\"> 2021-01-27 19:13:29 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 18:31:05 </td>\n   <td style=\"text-align:right;\"> 979 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 704 </td>\n   <td style=\"text-align:left;\"> Jeffery Blvd &amp; 91st St </td>\n   <td style=\"text-align:left;\"> 2020-09-03 06:59:22 </td>\n   <td style=\"text-align:left;\"> 2020-09-20 15:05:01 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 704 </td>\n   <td style=\"text-align:left;\"> Avenue O &amp; 134th St </td>\n   <td style=\"text-align:left;\"> 2020-09-23 18:40:05 </td>\n   <td style=\"text-align:left;\"> 2020-11-11 15:42:28 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 709 </td>\n   <td style=\"text-align:left;\"> Halsted St &amp; 104th St </td>\n   <td style=\"text-align:left;\"> 2020-09-15 18:26:12 </td>\n   <td style=\"text-align:left;\"> 2020-09-16 08:01:57 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 709 </td>\n   <td style=\"text-align:left;\"> Michigan Ave &amp; 114th St </td>\n   <td style=\"text-align:left;\"> 2020-09-17 18:27:01 </td>\n   <td style=\"text-align:left;\"> 2020-11-28 19:38:12 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 725 </td>\n   <td style=\"text-align:left;\"> Western Ave &amp; 104th St </td>\n   <td style=\"text-align:left;\"> 2020-10-06 14:38:17 </td>\n   <td style=\"text-align:left;\"> 2020-10-06 14:38:17 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 725 </td>\n   <td style=\"text-align:left;\"> Halsted St &amp; 104th St </td>\n   <td style=\"text-align:left;\"> 2020-10-13 13:05:17 </td>\n   <td style=\"text-align:left;\"> 2020-11-12 11:20:12 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> E011 </td>\n   <td style=\"text-align:left;\"> Chicago Ave &amp; Dempster St </td>\n   <td style=\"text-align:left;\"> 2020-12-01 18:39:42 </td>\n   <td style=\"text-align:left;\"> 2020-12-01 18:39:42 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> E011 </td>\n   <td style=\"text-align:left;\"> Dodge Ave &amp; Main St </td>\n   <td style=\"text-align:left;\"> 2020-12-20 18:35:35 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 16:08:19 </td>\n   <td style=\"text-align:right;\"> 309 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> LF-005 </td>\n   <td style=\"text-align:left;\"> Lake Shore Dr &amp; North Blvd </td>\n   <td style=\"text-align:left;\"> 2020-12-01 07:21:59 </td>\n   <td style=\"text-align:left;\"> 2021-07-21 10:39:07 </td>\n   <td style=\"text-align:right;\"> 23613 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> LF-005 </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; North Blvd </td>\n   <td style=\"text-align:left;\"> 2021-07-01 17:21:59 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 21:30:07 </td>\n   <td style=\"text-align:right;\"> 12941 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1305000039 </td>\n   <td style=\"text-align:left;\"> Marshfield Ave &amp; Cortland St </td>\n   <td style=\"text-align:left;\"> 2020-12-01 06:57:11 </td>\n   <td style=\"text-align:left;\"> 2021-05-26 09:06:13 </td>\n   <td style=\"text-align:right;\"> 2396 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1305000039 </td>\n   <td style=\"text-align:left;\"> Elston Ave &amp; Cortland St </td>\n   <td style=\"text-align:left;\"> 2021-05-23 14:50:25 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 22:54:49 </td>\n   <td style=\"text-align:right;\"> 3587 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1306000029 </td>\n   <td style=\"text-align:left;\"> Lake Shore Dr &amp; Ohio St </td>\n   <td style=\"text-align:left;\"> 2020-12-01 05:10:32 </td>\n   <td style=\"text-align:left;\"> 2021-07-21 09:34:21 </td>\n   <td style=\"text-align:right;\"> 11047 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1306000029 </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; Ohio St </td>\n   <td style=\"text-align:left;\"> 2021-07-21 10:59:27 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 23:47:54 </td>\n   <td style=\"text-align:right;\"> 4458 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1307000041 </td>\n   <td style=\"text-align:left;\"> Lake Shore Dr &amp; Wellington Ave </td>\n   <td style=\"text-align:left;\"> 2020-12-01 08:32:58 </td>\n   <td style=\"text-align:left;\"> 2021-07-21 10:31:29 </td>\n   <td style=\"text-align:right;\"> 11320 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1307000041 </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; Wellington Ave </td>\n   <td style=\"text-align:left;\"> 2021-07-21 08:38:05 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 21:16:41 </td>\n   <td style=\"text-align:right;\"> 5318 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1309000039 </td>\n   <td style=\"text-align:left;\"> Lake Shore Dr &amp; Diversey Pkwy </td>\n   <td style=\"text-align:left;\"> 2020-12-01 06:19:39 </td>\n   <td style=\"text-align:left;\"> 2021-07-21 10:50:30 </td>\n   <td style=\"text-align:right;\"> 11543 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1309000039 </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; Diversey Pkwy </td>\n   <td style=\"text-align:left;\"> 2021-07-21 10:55:37 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 22:12:24 </td>\n   <td style=\"text-align:right;\"> 5376 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1309000049 </td>\n   <td style=\"text-align:left;\"> Lake Shore Dr &amp; Belmont Ave </td>\n   <td style=\"text-align:left;\"> 2020-12-01 01:39:00 </td>\n   <td style=\"text-align:left;\"> 2021-07-21 10:03:25 </td>\n   <td style=\"text-align:right;\"> 11101 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TA1309000049 </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; Belmont Ave </td>\n   <td style=\"text-align:left;\"> 2021-07-18 14:31:44 </td>\n   <td style=\"text-align:left;\"> 2021-08-31 22:52:17 </td>\n   <td style=\"text-align:right;\"> 5449 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nAmong other changes, in July 2021 Chicago renamed the iconic Lake Shore Drive to honor its city's 'founder' Jean Baptiste Point DuSable. It is now known as DuSable Lake Shore Drive. You can read the story [here](https://abc7chicago.com/lake-shore-drive-dusable-rename-chicago-jean-baptiste-point-du-sable/10831970/).\n\nI will now recode old station names in the `start_station_name` and `end_station_name` column with new ones. This step is necessary if we want to get an accurate list of the most popular stations.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 <- all_trips_v2 %>% \n  mutate(start_station_name = recode(start_station_name, \n        \"Broadway & Wilson Ave\" = \"Broadway & Wilson - Truman College Vaccination Site\",\n        \"Halsted St & 18th St\" = \"Halsted St & 18th St (Temp)\",\n        \"Lake Shore Dr & Monroe St\" = \"DuSable Lake Shore Dr & Monroe St\",\n        \"Throop (Loomis) St & Taylor St\" = \"Throop St & Taylor St\",\n        \"McClurg Ct & Illinois St\" = \"New St & Illinois St\",\n        \"Burling St (Halsted) & Diversey Pkwy (Temp)\" = \"Burling St & Diversey Pkwy\",\n        \"Drake Ave & Fullerton Ave\" = \"St. Louis Ave & Fullerton Ave\",\n        \"Malcolm X College\" = \"Malcolm X College Vaccination Site\",\n        \"Lake Shore Dr & North Blvd\" = \"DuSable Lake Shore Dr & North Blvd\",\n        \"Marshfield Ave & Cortland St\" = \"Elston Ave & Cortland St\",\n        \"Lake Shore Dr & Ohio St\" = \"DuSable Lake Shore Dr & Ohio St\",\n        \"Lake Shore Dr & Wellington Ave\" = \"DuSable Lake Shore Dr & Wellington Ave\",\n        \"Lake Shore Dr & Diversey Pkwy\" = \"DuSable Lake Shore Dr & Diversey Pkwy\",\n        \"Lake Shore Dr & Belmont Ave\" = \"DuSable Lake Shore Dr & Belmont Ave\")) %>% \n  mutate(end_station_name = recode(end_station_name, \n        \"Broadway & Wilson Ave\" = \"Broadway & Wilson - Truman College Vaccination Site\",\n        \"Halsted St & 18th St\" = \"Halsted St & 18th St (Temp)\",\n        \"Lake Shore Dr & Monroe St\" = \"DuSable Lake Shore Dr & Monroe St\",\n        \"Throop (Loomis) St & Taylor St\" = \"Throop St & Taylor St\",\n        \"McClurg Ct & Illinois St\" = \"New St & Illinois St\",\n        \"Burling St (Halsted) & Diversey Pkwy (Temp)\" = \"Burling St & Diversey Pkwy\",\n        \"Drake Ave & Fullerton Ave\" = \"St. Louis Ave & Fullerton Ave\",\n        \"Malcolm X College\" = \"Malcolm X College Vaccination Site\",\n        \"Lake Shore Dr & North Blvd\" = \"DuSable Lake Shore Dr & North Blvd\",\n        \"Marshfield Ave & Cortland St\" = \"Elston Ave & Cortland St\",\n        \"Lake Shore Dr & Ohio St\" = \"DuSable Lake Shore Dr & Ohio St\",\n        \"Lake Shore Dr & Wellington Ave\" = \"DuSable Lake Shore Dr & Wellington Ave\",\n        \"Lake Shore Dr & Diversey Pkwy\" = \"DuSable Lake Shore Dr & Diversey Pkwy\",\n        \"Lake Shore Dr & Belmont Ave\" = \"DuSable Lake Shore Dr & Belmont Ave\"))\n```\n:::\n\n\n### Inspecting observations with missing values (NAs) in the `start_station_name`, `start_station_id`, `end_station_name`, and `end_station_id` column.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_NA2 <- all_trips_v2 %>% \n  filter(is.na(start_station_name) | \n           is.na(end_station_name) | \n           is.na(start_station_id) | \n           is.na(end_station_id))\n\n# number of NAs in each column\ncolSums(is.na(all_trips_NA2))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n           ride_id      rideable_type         started_at           ended_at \n                 0                  0                  0                  0 \nstart_station_name   start_station_id   end_station_name     end_station_id \n            433066             433555             465210             465557 \n         user_type         year_month        day_of_week               hour \n                 0                  0                  0                  0 \n       ride_length \n                 0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(all_trips_NA2$year_month, all_trips_NA2$rideable_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         \n          classic_bike electric_bike\n  2020-09            0         30366\n  2020-10            0         47049\n  2020-11            0         35629\n  2020-12          108         16863\n  2021-01          135         12485\n  2021-02          107          5956\n  2021-03          182         21691\n  2021-04          161         37194\n  2021-05          197         77127\n  2021-06          346        115639\n  2021-07          473        124787\n  2021-08          378        125277\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# contingency table for the whole dataset\ntable(all_trips_v2$year_month, all_trips_v2$rideable_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         \n          classic_bike docked_bike electric_bike\n  2020-09            0      393566        125265\n  2020-10            0      229503        148585\n  2020-11            0      147835        106308\n  2020-12        69685       12461         46976\n  2021-01        60824        2027         32233\n  2021-02        34031        1196         12923\n  2021-03       150210       15100         59098\n  2021-04       210953       23795         95784\n  2021-05       303327       41444        174945\n  2021-06       426477       49440        236903\n  2021-07       497414       55529        251837\n  2021-08       494426       43517        250842\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_NA2 %>%   \n  count(user_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  user_type      n\n  <chr>      <int>\n1 casual    322694\n2 member    329456\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(all_trips_NA2$ride_length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   1.00    6.82   12.38   17.82   22.13  180.00 \n```\n:::\n:::\n\n\nDeleting the observations with missing values can reduce the statistical power of the analysis. We must understand why the data is missing. The reason for missing values here is the fact that electric bikes can be parked outside of the stations within a service area. You can find more information [here](https://divvybikes.com/pricing/ebikes). In Zone 1, an out-of-station parking fee (\\$2) will be charged. In Zone 2, the out-of-station parking fee will be waived to account for the lower density of stations.\n\nThere is no way to substitute missing vales and nothing indicates that something is wrong with this subset. If I delete it I will lose a small percentage of rides taken with classic bikes (**0.1%**) and a lot of rides taken with electric bikes (**42%**). I will keep this observations.\n\n### Renaming `rideable_type` column to `bike_type`, and recoding `docked_bike` to `classic_bike`\n\nAs stated before, comparing casual riders and annual members by `rideable_type` is not appropriate. Still, I would like to compare them by the `bike_type`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 <- all_trips_v2 %>% \n  rename(bike_type = rideable_type) %>%\n  mutate(bike_type = recode(bike_type, \"docked_bike\" = \"classic_bike\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 %>%\n  count(bike_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  bike_type           n\n  <chr>           <int>\n1 classic_bike  3262760\n2 electric_bike 1541699\n```\n:::\n:::\n\n\n### Final dataset ready for analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# selecting columns needed for analysis\nal_trips_v2 <- all_trips_v2 %>% \n  select(start_station_name, end_station_name, user_type, year_month, day_of_week, \n         hour, ride_length, bike_type)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# final dataset dimensions\ndim_desc(al_trips_v2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"[4,804,459 x 8]\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# proportion of trips removed\n(nrow(all_trips) - nrow(all_trips_v2)) / nrow(all_trips) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.02210694\n```\n:::\n:::\n\n\n## PART IV - Analyze & Share\n\nIn this step I will try to find an answer to the question **\"How do annual members and casual riders use Cyclistic bikes differently?\"** and share my key findings by analyzing the following:\n\n-   number of rides\n-   average ride length\n-   bike type usage\n-   most popular stations\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# theme customization\nmy_theme <- theme(plot.title=element_text(size=14),\n                  plot.subtitle=element_text(size=10),\n                  axis.text.x=element_text(size=10),\n                  axis.text.y=element_text(size=10),\n                  axis.title.x=element_text(size=10),\n                  axis.title.y=element_text(size=10),\n                  strip.text = element_text(size=12),\n                  legend.title=element_text(size=11),\n                  legend.text=element_text(size=11))\n\nmy_colors <- c(\"#355273\", \"#FF3030\") \n```\n:::\n\n\n### Number of rides\n\n**Total Rides by User Type**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntotal_rides_by_user_type <- all_trips_v2 %>% \n  select(user_type) %>% \n  group_by(user_type) %>% \n  summarise(total_rides = n(), .groups = 'drop') %>% \n  mutate(percentage = scales::percent(total_rides/sum(total_rides), accuracy = 0.1))\n\nknitr::kable(total_rides_by_user_type)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:right;\"> total_rides </th>\n   <th style=\"text-align:left;\"> percentage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:right;\"> 2170121 </td>\n   <td style=\"text-align:left;\"> 45.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:right;\"> 2634338 </td>\n   <td style=\"text-align:left;\"> 54.8% </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# making a donut chart with webr package\nwebr::PieDonut(total_rides_by_user_type, aes(user_type, count = total_rides), r0 = 0.7, r1 = 0.9,\n               labelpositionThreshold = 1, showPieName = FALSE, \n               pieAlpha = 1) + \n  scale_fill_manual(values = my_colors) +\n  annotate(geom = 'text', x = 0, y = 0, \n           label = str_c(\"Totak Rides: \", round(sum(total_rides_by_user_type$total_rides)/1e6, 1), \"M\"),\n           size = 4.7) +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-53-1.png){width=672}\n:::\n:::\n\n\n**Total Rides by Month**\n\n<details>\n\n<summary>Show code and table output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntotal_rides_by_month <- all_trips_v2 %>% \n  select(user_type, year_month) %>% \n  group_by(user_type, year_month) %>% \n  summarise(total_rides = n()) %>% \n  mutate(percentage = scales::percent(total_rides/sum(total_rides), accuracy = 0.1)) %>% \n  ungroup()\n  \nknitr::kable(total_rides_by_month) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> year_month </th>\n   <th style=\"text-align:right;\"> total_rides </th>\n   <th style=\"text-align:left;\"> percentage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 224111 </td>\n   <td style=\"text-align:left;\"> 10.3% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:right;\"> 140694 </td>\n   <td style=\"text-align:left;\"> 6.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:right;\"> 86025 </td>\n   <td style=\"text-align:left;\"> 4.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-12 </td>\n   <td style=\"text-align:right;\"> 29456 </td>\n   <td style=\"text-align:left;\"> 1.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:right;\"> 17719 </td>\n   <td style=\"text-align:left;\"> 0.8% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-02 </td>\n   <td style=\"text-align:right;\"> 9764 </td>\n   <td style=\"text-align:left;\"> 0.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-03 </td>\n   <td style=\"text-align:right;\"> 82219 </td>\n   <td style=\"text-align:left;\"> 3.8% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-04 </td>\n   <td style=\"text-align:right;\"> 133407 </td>\n   <td style=\"text-align:left;\"> 6.1% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-05 </td>\n   <td style=\"text-align:right;\"> 250286 </td>\n   <td style=\"text-align:left;\"> 11.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-06 </td>\n   <td style=\"text-align:right;\"> 360818 </td>\n   <td style=\"text-align:left;\"> 16.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 431617 </td>\n   <td style=\"text-align:left;\"> 19.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-08 </td>\n   <td style=\"text-align:right;\"> 404005 </td>\n   <td style=\"text-align:left;\"> 18.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:right;\"> 294720 </td>\n   <td style=\"text-align:left;\"> 11.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:right;\"> 237394 </td>\n   <td style=\"text-align:left;\"> 9.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:right;\"> 168118 </td>\n   <td style=\"text-align:left;\"> 6.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-12 </td>\n   <td style=\"text-align:right;\"> 99666 </td>\n   <td style=\"text-align:left;\"> 3.8% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:right;\"> 77365 </td>\n   <td style=\"text-align:left;\"> 2.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-02 </td>\n   <td style=\"text-align:right;\"> 38386 </td>\n   <td style=\"text-align:left;\"> 1.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-03 </td>\n   <td style=\"text-align:right;\"> 142189 </td>\n   <td style=\"text-align:left;\"> 5.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-04 </td>\n   <td style=\"text-align:right;\"> 197125 </td>\n   <td style=\"text-align:left;\"> 7.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-05 </td>\n   <td style=\"text-align:right;\"> 269430 </td>\n   <td style=\"text-align:left;\"> 10.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-06 </td>\n   <td style=\"text-align:right;\"> 352002 </td>\n   <td style=\"text-align:left;\"> 13.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:right;\"> 373163 </td>\n   <td style=\"text-align:left;\"> 14.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-08 </td>\n   <td style=\"text-align:right;\"> 384780 </td>\n   <td style=\"text-align:left;\"> 14.6% </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(total_rides_by_month, aes(x = year_month, y = total_rides, fill = user_type)) + \n  geom_col(width = 0.65, position = position_dodge(0.75)) + \n  scale_y_continuous(labels = scales::comma) +\n  scale_fill_manual(values = my_colors) +\n  labs(title = \"Total Rides by Month\", subtitle = \"September 2020 - August 2021\",\n       x = \"\", y = \"\", fill = \"User Type\") + \n  my_theme +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-55-1.png){width=768}\n:::\n:::\n\n\nIt is evident that the number of rides through the months directly correlates with the weather. Weather history in Chicago ([Weather Spark](https://weatherspark.com/h/y/14091/2021/Historical-Weather-during-2021-in-Chicago-Illinois-United-States#Figures-Temperature)) for the period September 2020 - August 2021 reveals common temperatures throughout the year with the exception of February 2021 (freezing, snow) and the summer months June, July,and August 2021 (above-average temperatures).\n\nThe number of rides taken by casuals exceeded the number of rides taken by members only in June, July and September 2021, during which time casual rides account for **55.1%** of total casual rides.\n\nThe number of rides by casuals in relation to members is much lower in the period from October 2020 to January 2021. The possible cause is the COVID-19 pandemic, We can see the number of new cases per capita in the following [animation](https://www.reddit.com/r/dataisbeautiful/comments/q4dc8b/oc_the_pandemic_in_the_us_in_60_seconds/).\n\n**Total Rides by Day of the Week**\n\n<details>\n\n<summary>Show code and table output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntotal_rides_by_dow <- all_trips_v2 %>% \n  select(user_type, day_of_week) %>% \n  group_by(user_type, day_of_week) %>% \n  summarise(total_rides = n()) %>% \n  mutate(percentage = scales::percent(total_rides/sum(total_rides), accuracy = 0.1)) %>% \n  ungroup()\n\nknitr::kable(total_rides_by_dow)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> day_of_week </th>\n   <th style=\"text-align:right;\"> total_rides </th>\n   <th style=\"text-align:left;\"> percentage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Monday </td>\n   <td style=\"text-align:right;\"> 244484 </td>\n   <td style=\"text-align:left;\"> 11.3% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Tuesday </td>\n   <td style=\"text-align:right;\"> 236599 </td>\n   <td style=\"text-align:left;\"> 10.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Wednesday </td>\n   <td style=\"text-align:right;\"> 236314 </td>\n   <td style=\"text-align:left;\"> 10.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Thursday </td>\n   <td style=\"text-align:right;\"> 242190 </td>\n   <td style=\"text-align:left;\"> 11.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Friday </td>\n   <td style=\"text-align:right;\"> 314444 </td>\n   <td style=\"text-align:left;\"> 14.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Saturday </td>\n   <td style=\"text-align:right;\"> 486516 </td>\n   <td style=\"text-align:left;\"> 22.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Sunday </td>\n   <td style=\"text-align:right;\"> 409574 </td>\n   <td style=\"text-align:left;\"> 18.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Monday </td>\n   <td style=\"text-align:right;\"> 357796 </td>\n   <td style=\"text-align:left;\"> 13.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Tuesday </td>\n   <td style=\"text-align:right;\"> 393073 </td>\n   <td style=\"text-align:left;\"> 14.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Wednesday </td>\n   <td style=\"text-align:right;\"> 399560 </td>\n   <td style=\"text-align:left;\"> 15.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Thursday </td>\n   <td style=\"text-align:right;\"> 383457 </td>\n   <td style=\"text-align:left;\"> 14.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Friday </td>\n   <td style=\"text-align:right;\"> 388557 </td>\n   <td style=\"text-align:left;\"> 14.7% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Saturday </td>\n   <td style=\"text-align:right;\"> 381707 </td>\n   <td style=\"text-align:left;\"> 14.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Sunday </td>\n   <td style=\"text-align:right;\"> 330188 </td>\n   <td style=\"text-align:left;\"> 12.5% </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(total_rides_by_dow, aes(x = day_of_week, y = total_rides, fill = user_type)) + \n  geom_col(width = 0.65, position = position_dodge(0.75)) + \n  scale_y_continuous(labels = scales::comma) +\n  scale_fill_manual(values = my_colors) +\n  labs(title = \"Total Rides by Day of the Week\", subtitle = \"September 2020 - August 2021\",\n       x = \"\", y = \"\", fill = \"User Type\") +\n  my_theme +\n  theme(legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-57-1.png){width=576}\n:::\n:::\n\n\nCasual riders prefer Saturday rides (22.4% of total casual rides). Sunday is the second highest day (18.9%), followed by Friday (14.5%). Rides from Monday to Thursday are equally split (11%).\n\nMembers' rides are much more evenly split (13-15%). Members took the least rides on Sundays (12.5%).\n\n**Total Rides by Hour**\n\n<details>\n\n<summary>Show code and table output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntotal_rides_by_hour <- all_trips_v2 %>%\n  select(user_type, hour) %>% \n  group_by(user_type, hour) %>% \n  summarise(total_rides = n()) %>% \n  mutate(percentage = scales::percent(total_rides/sum(total_rides), accuracy = 0.1)) %>% \n  ungroup()\n\nknitr::kable(total_rides_by_hour) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> hour </th>\n   <th style=\"text-align:right;\"> total_rides </th>\n   <th style=\"text-align:left;\"> percentage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:right;\"> 43483 </td>\n   <td style=\"text-align:left;\"> 2.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 30951 </td>\n   <td style=\"text-align:left;\"> 1.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 19563 </td>\n   <td style=\"text-align:left;\"> 0.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:right;\"> 10690 </td>\n   <td style=\"text-align:left;\"> 0.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 7551 </td>\n   <td style=\"text-align:left;\"> 0.3% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:right;\"> 9465 </td>\n   <td style=\"text-align:left;\"> 0.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:right;\"> 20186 </td>\n   <td style=\"text-align:left;\"> 0.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:right;\"> 35908 </td>\n   <td style=\"text-align:left;\"> 1.7% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:right;\"> 50059 </td>\n   <td style=\"text-align:left;\"> 2.3% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:right;\"> 61548 </td>\n   <td style=\"text-align:left;\"> 2.8% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 10 </td>\n   <td style=\"text-align:right;\"> 87265 </td>\n   <td style=\"text-align:left;\"> 4.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 11 </td>\n   <td style=\"text-align:right;\"> 116385 </td>\n   <td style=\"text-align:left;\"> 5.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 12 </td>\n   <td style=\"text-align:right;\"> 141729 </td>\n   <td style=\"text-align:left;\"> 6.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 13 </td>\n   <td style=\"text-align:right;\"> 152618 </td>\n   <td style=\"text-align:left;\"> 7.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 14 </td>\n   <td style=\"text-align:right;\"> 159007 </td>\n   <td style=\"text-align:left;\"> 7.3% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 15 </td>\n   <td style=\"text-align:right;\"> 167520 </td>\n   <td style=\"text-align:left;\"> 7.7% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 16 </td>\n   <td style=\"text-align:right;\"> 182248 </td>\n   <td style=\"text-align:left;\"> 8.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 17 </td>\n   <td style=\"text-align:right;\"> 208923 </td>\n   <td style=\"text-align:left;\"> 9.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 18 </td>\n   <td style=\"text-align:right;\"> 187132 </td>\n   <td style=\"text-align:left;\"> 8.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:right;\"> 143626 </td>\n   <td style=\"text-align:left;\"> 6.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 20 </td>\n   <td style=\"text-align:right;\"> 105533 </td>\n   <td style=\"text-align:left;\"> 4.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:right;\"> 86832 </td>\n   <td style=\"text-align:left;\"> 4.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 22 </td>\n   <td style=\"text-align:right;\"> 79799 </td>\n   <td style=\"text-align:left;\"> 3.7% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 23 </td>\n   <td style=\"text-align:right;\"> 62100 </td>\n   <td style=\"text-align:left;\"> 2.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:right;\"> 24795 </td>\n   <td style=\"text-align:left;\"> 0.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 15890 </td>\n   <td style=\"text-align:left;\"> 0.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 9038 </td>\n   <td style=\"text-align:left;\"> 0.3% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:right;\"> 5144 </td>\n   <td style=\"text-align:left;\"> 0.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 6306 </td>\n   <td style=\"text-align:left;\"> 0.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:right;\"> 24432 </td>\n   <td style=\"text-align:left;\"> 0.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:right;\"> 71187 </td>\n   <td style=\"text-align:left;\"> 2.7% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:right;\"> 126402 </td>\n   <td style=\"text-align:left;\"> 4.8% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:right;\"> 139994 </td>\n   <td style=\"text-align:left;\"> 5.3% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:right;\"> 109507 </td>\n   <td style=\"text-align:left;\"> 4.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 10 </td>\n   <td style=\"text-align:right;\"> 111689 </td>\n   <td style=\"text-align:left;\"> 4.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 11 </td>\n   <td style=\"text-align:right;\"> 137262 </td>\n   <td style=\"text-align:left;\"> 5.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 12 </td>\n   <td style=\"text-align:right;\"> 160348 </td>\n   <td style=\"text-align:left;\"> 6.1% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 13 </td>\n   <td style=\"text-align:right;\"> 158130 </td>\n   <td style=\"text-align:left;\"> 6.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 14 </td>\n   <td style=\"text-align:right;\"> 157059 </td>\n   <td style=\"text-align:left;\"> 6.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 15 </td>\n   <td style=\"text-align:right;\"> 177986 </td>\n   <td style=\"text-align:left;\"> 6.8% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 16 </td>\n   <td style=\"text-align:right;\"> 224585 </td>\n   <td style=\"text-align:left;\"> 8.5% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 17 </td>\n   <td style=\"text-align:right;\"> 279870 </td>\n   <td style=\"text-align:left;\"> 10.6% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 18 </td>\n   <td style=\"text-align:right;\"> 239079 </td>\n   <td style=\"text-align:left;\"> 9.1% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:right;\"> 169026 </td>\n   <td style=\"text-align:left;\"> 6.4% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 20 </td>\n   <td style=\"text-align:right;\"> 110341 </td>\n   <td style=\"text-align:left;\"> 4.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:right;\"> 77320 </td>\n   <td style=\"text-align:left;\"> 2.9% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 22 </td>\n   <td style=\"text-align:right;\"> 58519 </td>\n   <td style=\"text-align:left;\"> 2.2% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 23 </td>\n   <td style=\"text-align:right;\"> 40429 </td>\n   <td style=\"text-align:left;\"> 1.5% </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(total_rides_by_hour, aes(x = hour, y = total_rides, color = user_type)) +\n  geom_line(aes(group = user_type), size = 1) +\n  scale_y_continuous(labels = scales::comma) +\n  scale_color_manual(values = my_colors) +\n  labs(title = \"Total Rides by Hour\", subtitle = \"September 2020 - August 2021\",\n       x = \"\", y = \"\", color = \"User Type\") +\n  expand_limits(y = 3e5) +\n  my_theme +\n  theme(legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-59-1.png){width=672}\n:::\n:::\n\n\nAmong members we see spikes in use at 8am and 5pm with another small bump at 12 noon. Annual members are locals and frequent riders. They use bikes to commute to work or school, run errands, or get to appointments.\n\nAmong casual riders we see a spike in use at 5pm. Casual riders are one-way commuters. Overall, they tend to ride in the afternoon.\n\n### Average ride length\n\nRide Length summary statistics by user type in minutes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 %>%   \n  select(user_type, ride_length) %>% \n  group_by(user_type) %>% \n  summarize(min = min(ride_length),\n            q1 = quantile(ride_length, 0.25),\n            median = median(ride_length),\n            mean = mean(ride_length),\n            q3 = quantile(ride_length, 0.75),\n            max = max(ride_length))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 7\n  user_type   min    q1 median  mean    q3   max\n  <chr>     <dbl> <dbl>  <dbl> <dbl> <dbl> <dbl>\n1 casual        1  9.88   17.2  26.1  31.2  180 \n2 member        1  6.12   10.4  13.8  17.8  180.\n```\n:::\n:::\n\n\nThe average ride length for casuals (26 min) is almost twice as long as the average ride length for members (14 min). On average, rides by casuals last 12 minutes longer than rides by annual members.\n\n**Average Ride Length by Day of the Week**\n\n<details>\n\n<summary>Show code and table output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\navg_ride_length_by_dow <- all_trips_v2 %>% \n  select(user_type, day_of_week, ride_length) %>% \n  group_by(user_type, day_of_week) %>% \n  summarise(avg_ride_length = mean(ride_length) %>% round(2)) %>% \n  ungroup()\n\nknitr::kable(avg_ride_length_by_dow) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> day_of_week </th>\n   <th style=\"text-align:right;\"> avg_ride_length </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Monday </td>\n   <td style=\"text-align:right;\"> 26.39 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Tuesday </td>\n   <td style=\"text-align:right;\"> 23.88 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Wednesday </td>\n   <td style=\"text-align:right;\"> 23.25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Thursday </td>\n   <td style=\"text-align:right;\"> 22.63 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Friday </td>\n   <td style=\"text-align:right;\"> 24.25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Saturday </td>\n   <td style=\"text-align:right;\"> 28.29 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Sunday </td>\n   <td style=\"text-align:right;\"> 29.76 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Monday </td>\n   <td style=\"text-align:right;\"> 13.34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Tuesday </td>\n   <td style=\"text-align:right;\"> 13.11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Wednesday </td>\n   <td style=\"text-align:right;\"> 13.21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Thursday </td>\n   <td style=\"text-align:right;\"> 13.04 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Friday </td>\n   <td style=\"text-align:right;\"> 13.48 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Saturday </td>\n   <td style=\"text-align:right;\"> 15.35 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> Sunday </td>\n   <td style=\"text-align:right;\"> 15.62 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(avg_ride_length_by_dow, aes(x = day_of_week, y = avg_ride_length, fill = user_type)) + \n  geom_col(width = 0.665, position = position_dodge(0.75)) + \n  scale_y_continuous(labels = scales::comma) +\n  scale_fill_manual(values = my_colors) +\n  labs(title = \"Average Ride Length (minute) by Day of the Week\",\n       subtitle = \"September 2020 - August 2021\",\n       x = \"\", y = \"\", fill = \"User Type\") +\n  my_theme +\n  theme(legend.position = \"top\") \n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-62-1.png){width=576}\n:::\n:::\n\n\nAvaerage ride length for members is constant from Monday to Friday (13 min), with slight increase on Saturdays and Sundays (15 min).\n\nAvaerage ride length for casuals varies during the week (from 22 to 30 min), Highest average ride length is on Sundays (30 min), followed by Saturdays (28 min).\n\n**Average Ride Length by Hour**\n\n<details>\n\n<summary>Show code and table output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\navg_ride_length_by_hour <- all_trips_v2 %>% \n  select(user_type, hour, ride_length) %>% \n  group_by(user_type, hour) %>% \n  summarise(avg_ride_length = mean(ride_length) %>% round(2)) %>% \n  ungroup()\n\nknitr::kable(avg_ride_length_by_hour)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> hour </th>\n   <th style=\"text-align:right;\"> avg_ride_length </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:right;\"> 23.48 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 22.59 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 21.83 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:right;\"> 21.65 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 19.90 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:right;\"> 18.87 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:right;\"> 17.03 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:right;\"> 18.05 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:right;\"> 20.33 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:right;\"> 25.39 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 10 </td>\n   <td style=\"text-align:right;\"> 28.84 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 11 </td>\n   <td style=\"text-align:right;\"> 29.63 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 12 </td>\n   <td style=\"text-align:right;\"> 29.30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 13 </td>\n   <td style=\"text-align:right;\"> 29.98 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 14 </td>\n   <td style=\"text-align:right;\"> 29.98 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 15 </td>\n   <td style=\"text-align:right;\"> 28.87 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 16 </td>\n   <td style=\"text-align:right;\"> 26.94 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 17 </td>\n   <td style=\"text-align:right;\"> 24.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 18 </td>\n   <td style=\"text-align:right;\"> 24.19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:right;\"> 24.35 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 20 </td>\n   <td style=\"text-align:right;\"> 24.48 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:right;\"> 23.80 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 22 </td>\n   <td style=\"text-align:right;\"> 23.28 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 23 </td>\n   <td style=\"text-align:right;\"> 22.90 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:right;\"> 12.72 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 13.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 12.92 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:right;\"> 13.16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 12.21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:right;\"> 11.47 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:right;\"> 12.26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:right;\"> 12.44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:right;\"> 12.51 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:right;\"> 13.02 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 10 </td>\n   <td style=\"text-align:right;\"> 13.78 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 11 </td>\n   <td style=\"text-align:right;\"> 14.09 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 12 </td>\n   <td style=\"text-align:right;\"> 13.93 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 13 </td>\n   <td style=\"text-align:right;\"> 14.31 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 14 </td>\n   <td style=\"text-align:right;\"> 14.73 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 15 </td>\n   <td style=\"text-align:right;\"> 14.56 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 16 </td>\n   <td style=\"text-align:right;\"> 14.44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 17 </td>\n   <td style=\"text-align:right;\"> 14.51 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 18 </td>\n   <td style=\"text-align:right;\"> 14.28 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:right;\"> 13.97 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 20 </td>\n   <td style=\"text-align:right;\"> 13.65 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:right;\"> 13.37 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 22 </td>\n   <td style=\"text-align:right;\"> 13.07 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 23 </td>\n   <td style=\"text-align:right;\"> 12.80 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(avg_ride_length_by_hour, aes(x = hour, y = avg_ride_length, color = user_type)) +\n  geom_line(aes(group = user_type), size = 1) +\n  scale_y_continuous(labels = scales::comma) +\n  scale_color_manual(values = my_colors) +\n  labs(title = \"Average Ride Length (minute) by Hour\", subtitle = \"September 2020 - August 2021\",\n       x = \"\", y = \"\", color = \"User Type\") +\n  my_theme +\n  theme(legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-64-1.png){width=672}\n:::\n:::\n\n\nThe longest rides for casuals start in late mornings and afternoons. Average ride length for members is pretty much constant during the day.\n\n**Average Ride Length by Hour and Day of the Week**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nall_trips_v2 %>%\n  group_by(user_type, day_of_week, hour) %>%\n  summarise(avg_ride_length = mean(ride_length), .groups = 'drop') %>% \n  ggplot(aes(x = hour, y = avg_ride_length, color = user_type)) +\n  geom_line(aes(group = user_type), size=1) +\n  facet_wrap(~day_of_week) +\n  scale_y_continuous(labels = scales::comma) +\n  scale_x_discrete(breaks = seq(1, 23, 2)) +\n  scale_color_manual(values = my_colors) +\n  labs(title = \"Average Ride Length by Hour and Day of the Week\", \n       subtitle = \"September 2020 - August 2021\",\n       x = \"\", y = \"\", color = \"User Type\") +\n  my_theme +\n  theme(legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-65-1.png){width=960}\n:::\n:::\n\n\n### Bike type usage\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbiketype_usage <- all_trips_v2 %>% \n  select(user_type, bike_type) %>% \n  group_by(user_type, bike_type) %>% \n  summarise(total_rides = n()) %>% \n  mutate(percentage = scales::percent(total_rides/sum(total_rides), accuracy = 0.1)) %>% \n  ungroup() %>% \n  pivot_wider(-total_rides, names_from = bike_type, values_from = percentage)\n\nknitr::kable(biketype_usage) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> classic_bike </th>\n   <th style=\"text-align:left;\"> electric_bike </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 66.0% </td>\n   <td style=\"text-align:left;\"> 34.0% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 69.5% </td>\n   <td style=\"text-align:left;\"> 30.5% </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nOn average, casual riders took 66% of total casual rides with classic bikes and 34% with electric. Members took slightly less rides with electric bikes (30.5%) than casuals.\n\nWhat is the situation like if we group the rides by month?\n\n<details>\n\n<summary>Show code and table output</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbiketype_usage_by_month <- all_trips_v2 %>%\n  group_by(user_type, year_month, bike_type) %>% \n  summarise(total_rides = n()) %>% \n  mutate(percentage = scales::percent(total_rides/sum(total_rides), accuracy = 0.01))\n\nknitr::kable(biketype_usage_by_month) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> year_month </th>\n   <th style=\"text-align:left;\"> bike_type </th>\n   <th style=\"text-align:right;\"> total_rides </th>\n   <th style=\"text-align:left;\"> percentage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 166860 </td>\n   <td style=\"text-align:left;\"> 74.45% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 57251 </td>\n   <td style=\"text-align:left;\"> 25.55% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 77464 </td>\n   <td style=\"text-align:left;\"> 55.06% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 63230 </td>\n   <td style=\"text-align:left;\"> 44.94% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 44729 </td>\n   <td style=\"text-align:left;\"> 52.00% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 41296 </td>\n   <td style=\"text-align:left;\"> 48.00% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-12 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 15930 </td>\n   <td style=\"text-align:left;\"> 54.08% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2020-12 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 13526 </td>\n   <td style=\"text-align:left;\"> 45.92% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 10167 </td>\n   <td style=\"text-align:left;\"> 57.38% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 7552 </td>\n   <td style=\"text-align:left;\"> 42.62% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-02 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 6687 </td>\n   <td style=\"text-align:left;\"> 68.49% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-02 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 3077 </td>\n   <td style=\"text-align:left;\"> 31.51% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-03 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 59834 </td>\n   <td style=\"text-align:left;\"> 72.77% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-03 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 22385 </td>\n   <td style=\"text-align:left;\"> 27.23% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-04 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 93186 </td>\n   <td style=\"text-align:left;\"> 69.85% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-04 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 40221 </td>\n   <td style=\"text-align:left;\"> 30.15% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-05 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 162766 </td>\n   <td style=\"text-align:left;\"> 65.03% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-05 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 87520 </td>\n   <td style=\"text-align:left;\"> 34.97% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-06 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 233390 </td>\n   <td style=\"text-align:left;\"> 64.68% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-06 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 127428 </td>\n   <td style=\"text-align:left;\"> 35.32% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 292161 </td>\n   <td style=\"text-align:left;\"> 67.69% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 139456 </td>\n   <td style=\"text-align:left;\"> 32.31% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-08 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 269250 </td>\n   <td style=\"text-align:left;\"> 66.65% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> 2021-08 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 134755 </td>\n   <td style=\"text-align:left;\"> 33.35% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 226706 </td>\n   <td style=\"text-align:left;\"> 76.92% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-09 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 68014 </td>\n   <td style=\"text-align:left;\"> 23.08% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 152039 </td>\n   <td style=\"text-align:left;\"> 64.05% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-10 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 85355 </td>\n   <td style=\"text-align:left;\"> 35.95% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 103106 </td>\n   <td style=\"text-align:left;\"> 61.33% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-11 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 65012 </td>\n   <td style=\"text-align:left;\"> 38.67% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-12 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 66216 </td>\n   <td style=\"text-align:left;\"> 66.44% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2020-12 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 33450 </td>\n   <td style=\"text-align:left;\"> 33.56% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 52684 </td>\n   <td style=\"text-align:left;\"> 68.10% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-01 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 24681 </td>\n   <td style=\"text-align:left;\"> 31.90% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-02 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 28540 </td>\n   <td style=\"text-align:left;\"> 74.35% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-02 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 9846 </td>\n   <td style=\"text-align:left;\"> 25.65% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-03 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 105476 </td>\n   <td style=\"text-align:left;\"> 74.18% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-03 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 36713 </td>\n   <td style=\"text-align:left;\"> 25.82% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-04 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 141562 </td>\n   <td style=\"text-align:left;\"> 71.81% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-04 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 55563 </td>\n   <td style=\"text-align:left;\"> 28.19% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-05 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 182005 </td>\n   <td style=\"text-align:left;\"> 67.55% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-05 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 87425 </td>\n   <td style=\"text-align:left;\"> 32.45% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-06 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 242527 </td>\n   <td style=\"text-align:left;\"> 68.90% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-06 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 109475 </td>\n   <td style=\"text-align:left;\"> 31.10% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 260782 </td>\n   <td style=\"text-align:left;\"> 69.88% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-07 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 112381 </td>\n   <td style=\"text-align:left;\"> 30.12% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-08 </td>\n   <td style=\"text-align:left;\"> classic_bike </td>\n   <td style=\"text-align:right;\"> 268693 </td>\n   <td style=\"text-align:left;\"> 69.83% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> member </td>\n   <td style=\"text-align:left;\"> 2021-08 </td>\n   <td style=\"text-align:left;\"> electric_bike </td>\n   <td style=\"text-align:right;\"> 116087 </td>\n   <td style=\"text-align:left;\"> 30.17% </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(biketype_usage_by_month, aes(x = year_month, y = total_rides, fill = bike_type)) +\n  geom_col(color = \"black\", width = 0.7, position = \"fill\") +\n  facet_wrap(~user_type) +\n  scale_y_continuous(labels = scales::percent) +\n  scale_fill_manual(breaks = c(\"classic_bike\", \"electric_bike\"),\n                    values = c(\"#A0CBE8\", \"#4E79A7\")) +\n  labs(title = \"Bike Type Usage by Month\", subtitle = \"September 2020 - August 2021\",\n       x = \"\", y = \"\") + \n  my_theme + \n  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = \"top\")\n```\n\n::: {.cell-output-display}\n![](cyclistic_files/figure-html/unnamed-chunk-68-1.png){width=960}\n:::\n:::\n\n\nWe can see that from October 2020 to January 2021 more rides are taken with electric bikes than on average. Since fewer rides were achieved in those months, both groups had more electric bikes at their disposal.\n\n### Most popular stations\n\n**Top 20 most popular start stations for casuals**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_start_casual <- all_trips_v2 %>% \n  filter(!is.na(start_station_name), user_type == \"casual\") %>% \n  group_by(user_type, start_station_name) %>% \n  summarise(total_rides = n(), .groups = 'drop') %>%\n  arrange(desc(total_rides)) %>% \n  head(20)\n\ntop_start_casual\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 3\n   user_type start_station_name                 total_rides\n   <chr>     <chr>                                    <int>\n 1 casual    Streeter Dr & Grand Ave                  55539\n 2 casual    DuSable Lake Shore Dr & Monroe St        33604\n 3 casual    Millennium Park                          30505\n 4 casual    Michigan Ave & Oak St                    27212\n 5 casual    DuSable Lake Shore Dr & North Blvd       26677\n 6 casual    Theater on the Lake                      21516\n 7 casual    Shedd Aquarium                           20644\n 8 casual    Wells St & Concord Ln                    17111\n 9 casual    Indiana Ave & Roosevelt Rd               16393\n10 casual    Clark St & Lincoln Ave                   15450\n11 casual    Clark St & Elm St                        15368\n12 casual    Clark St & Armitage Ave                  14708\n13 casual    Wells St & Elm St                        14695\n14 casual    Wabash Ave & Grand Ave                   14577\n15 casual    Michigan Ave & Lake St                   14354\n16 casual    Dusable Harbor                           14200\n17 casual    Michigan Ave & Washington St             13744\n18 casual    New St & Illinois St                     13198\n19 casual    Michigan Ave & 8th St                    12629\n20 casual    Buckingham Fountain                      12321\n```\n:::\n:::\n\n\n**Top 20 most popular start stations for members**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_start_member <- all_trips_v2 %>% \n  filter(!is.na(start_station_name), user_type == \"member\") %>% \n  group_by(user_type, start_station_name) %>% \n  summarise(total_rides = n(), .groups = 'drop') %>%\n  arrange(desc(total_rides)) %>% \n  head(20)\n\ntop_start_member\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 3\n   user_type start_station_name                 total_rides\n   <chr>     <chr>                                    <int>\n 1 member    Clark St & Elm St                        23532\n 2 member    Wells St & Concord Ln                    20947\n 3 member    Kingsbury St & Kinzie St                 20191\n 4 member    Wells St & Elm St                        19067\n 5 member    Dearborn St & Erie St                    18145\n 6 member    Wells St & Huron St                      17600\n 7 member    DuSable Lake Shore Dr & North Blvd       17590\n 8 member    Broadway & Barry Ave                     17545\n 9 member    St. Clair St & Erie St                   17486\n10 member    Theater on the Lake                      16401\n11 member    Clark St & Armitage Ave                  16123\n12 member    Desplaines St & Kinzie St                15820\n13 member    Clark St & Lincoln Ave                   15261\n14 member    Wabash Ave & Grand Ave                   14926\n15 member    Streeter Dr & Grand Ave                  14458\n16 member    Larrabee St & Webster Ave                13948\n17 member    Columbus Dr & Randolph St                13942\n18 member    Clinton St & Madison St                  13502\n19 member    Green St & Madison St                    13421\n20 member    Dearborn Pkwy & Delaware Pl              13389\n```\n:::\n:::\n\n\nI'm going to bind the top_start_casual and top_start_member dataframe and join coordinates from the divvy_stations dataframe.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_start_stations <- bind_rows(top_start_casual, top_start_member) %>% \n  left_join(divvy_stations, by = c(\"start_station_name\" = \"station_name\")) %>% \n  select(user_type, start_station_name, total_rides, latitude, longitude)\n\nknitr::kable(top_start_stations %>% head())\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> user_type </th>\n   <th style=\"text-align:left;\"> start_station_name </th>\n   <th style=\"text-align:right;\"> total_rides </th>\n   <th style=\"text-align:right;\"> latitude </th>\n   <th style=\"text-align:right;\"> longitude </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Streeter Dr &amp; Grand Ave </td>\n   <td style=\"text-align:right;\"> 55539 </td>\n   <td style=\"text-align:right;\"> 41.89228 </td>\n   <td style=\"text-align:right;\"> -87.61204 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; Monroe St </td>\n   <td style=\"text-align:right;\"> 33604 </td>\n   <td style=\"text-align:right;\"> 41.88096 </td>\n   <td style=\"text-align:right;\"> -87.61674 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Millennium Park </td>\n   <td style=\"text-align:right;\"> 30505 </td>\n   <td style=\"text-align:right;\"> 41.88103 </td>\n   <td style=\"text-align:right;\"> -87.62408 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Michigan Ave &amp; Oak St </td>\n   <td style=\"text-align:right;\"> 27212 </td>\n   <td style=\"text-align:right;\"> 41.90096 </td>\n   <td style=\"text-align:right;\"> -87.62378 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> DuSable Lake Shore Dr &amp; North Blvd </td>\n   <td style=\"text-align:right;\"> 26677 </td>\n   <td style=\"text-align:right;\"> 41.91172 </td>\n   <td style=\"text-align:right;\"> -87.62680 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> casual </td>\n   <td style=\"text-align:left;\"> Theater on the Lake </td>\n   <td style=\"text-align:right;\"> 21516 </td>\n   <td style=\"text-align:right;\"> 41.92628 </td>\n   <td style=\"text-align:right;\"> -87.63083 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n### Creating a leaflet map with most popular stations\n\nMost popular stations for casual riders are Millennium Park and those located along the DuSable Lake Shore Drive. These are all localities for entertainment and leisure activities, which is indicative of the main purpose of these rides.\n\nMost popular stations for members are located nearby or inside the business district, which is indicative of the main purpose of these rides (commuting to work or school, running errands, getting to appointments, and similar).\n\nNote: Most popular starting and destination stations for both casuals and members don't differ much.\n\n## PART V: Act\n\nCasual riders can be locals or visitors (tourists). With our new marketing campaign we should target only locals since there is little chance that visitors would buy annual membership. Unfortunately, there is no way to distinguish locals from visitors in the group of casual riders and this is the main problem with this dataset. For now, I will have to settle for the data I currently have.\n\n<p style=\"border:3px; border-style:solid; border-color:#4779b9; padding: 1em;\">\n\nMy top three recommendations for the new marketing strategy aimed at converting casual riders into annual members:<br><br>1. Conduct the marketing campaign during the summer months (June, July, August), mostly on weekends in the afternoon, but also on weekdays around 5pm.<br><br>2. Use the fact that casual riders tend to ride 12+ minutes longer than annual members.<br><br>3. Act in the areas of stations which are most popular with casual riders.\n\n</p>\n\nThank you for reaching the end of this project! 😉\n\nIf you'd like, you can also check my [dashboard](https://public.tableau.com/app/profile/sandra.jurela/viz/CYCLISTICCapstoneProject/STORY) in Tableau Public.\n",
    "supporting": [
      "cyclistic_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}